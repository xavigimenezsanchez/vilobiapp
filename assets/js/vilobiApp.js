angular.module("vilobiApp",["ui.router","ngMaterial","sasrio.angular-material-sidenav"]),angular.module("vilobiApp").config(["$mdThemingProvider","ssSideNavSectionsProvider",function(e,t){t.initWithTheme(e),t.initWithSections([{id:"Home",name:"Home",state:"common.home",type:"link"},{id:"Supervisor",name:"Supervisor",state:"common.supervisor",type:"link"}])}]),angular.module("vilobiApp").config(["$mdThemingProvider",function(e){e.theme("dark-grey").backgroundPalette("grey").dark(),e.theme("dark-orange").backgroundPalette("orange").dark(),e.theme("dark-purple").backgroundPalette("deep-purple").dark(),e.theme("dark-blue").backgroundPalette("blue").dark(),e.theme("dark-red").backgroundPalette("red").dark(),e.theme("default").primaryPalette("blue").accentPalette("orange"),e.definePalette("machinePalete",{50:"ffcdd2",100:"ffcdd2",200:"ef9a9a",300:"e57373",400:"ef5350",500:"f44336",600:"e53935",700:"d32f2f",800:"c62828",900:"b71c1c",A100:"000000",A200:"ff5252",A400:"ff1744",A700:"d50000",contrastDefaultColor:"light",contrastDarkColors:["50","100","200","300","400","A100"],contrastLightColors:void 0}),e.theme("machine").primaryPalette("blue").backgroundPalette("machinePalete"),e.definePalette("breadcrumbsPaletteName",{50:"FFFFFF",100:"ffcdd2",200:"ef9a9a",300:"e57373",400:"ef5350",500:"f44336",600:"e53935",700:"d32f2f",800:"c62828",900:"b71c1c",A100:"ff8a80",A200:"ff5252",A400:"ff1744",A700:"d50000",contrastDefaultColor:"light",contrastDarkColors:["50","100","200","300","400","A100"],contrastLightColors:void 0}),e.theme("breadcrumbs").primaryPalette("breadcrumbsPaletteName",{"default":"50"}),e.theme("process").backgroundPalette("green"),e.theme("setup").backgroundPalette("amber"),e.theme("pull").backgroundPalette("blue"),e.theme("end").backgroundPalette("red"),e.theme("ncdown").backgroundPalette("orange"),e.theme("down").backgroundPalette("deep-orange"),e.theme("error").backgroundPalette("grey"),e.theme("semaphorRed").primaryPalette("red").backgroundPalette("red",{"default":"100"}).dark(),e.theme("semaphorOrange").primaryPalette("orange").backgroundPalette("orange",{"default":"100"}).dark(),e.theme("semaphorGreen").primaryPalette("green").accentPalette("green").backgroundPalette("green",{"default":"100"}).dark(),e.alwaysWatchTheme(!0)}]),angular.module("vilobiApp").config(["$stateProvider","$urlRouterProvider","$locationProvider",function(e,t,a){t.otherwise("/"),a.html5Mode(!0),t.otherwise(function(){return"/"}),e.state("common",{"abstract":!0,templateUrl:"templates/_common.html",controller:"menuController"}).state("common.home",{url:"/",templateUrl:"templates/home.html",controller:"homeController",breadCrumbs:"home"}).state("common.machine",{url:"/machine/:id",templateUrl:"/templates/machine.html",controller:"bitScreenController",breadCrumbs:"machine"}).state("common.machineRegular",{url:"/machineRegular/:id",templateUrl:"/templates/machineRegular.html",controller:"machineRegularController",breadCrumbs:"machine"}).state("common.machinesRegular",{url:"/machinesRegular/:id",templateUrl:"/templates/machinesRegular.html",controller:"machinesRegularController",breadCrumbs:"machines"}).state("common.supervisor",{url:"/supervisor",templateUrl:"/templates/supervisor2.html",controller:"supervisorController",breadCrumbs:"supervisor"}).state("common.supervisorMachine",{url:"/supervisor/:id",templateUrl:"/templates/supervisorMachine.html",controller:"superMachineController",breadCrumbs:"detall supervisor"}).state("common.material",{url:"/material/:id",templateUrl:"/templates/material.html",controller:"materialController",breadCrumbs:"material"})}]),angular.module("vilobiApp").controller("bitScreenController",["$scope","$http","$stateParams","ofSrv","machineStateSrv","driverSrv","$location","$state","$interval","$timeout","$mdSidenav","supervisorSrv",function(e,t,a,n,r,o,i,c,l,s,m,u){function h(){function a(){t.get("../../api/machine/"+d).success(function(t){for(var a=t,r=[],o=0,i=0;6>i&&o<t.length;)new Date(a[o].DATASTART)>Date.now()&&e.machineInfo.of!=a[o].OF?r[i++]=a[o++]:o++;e.sfFirst=r,n.materialAvaliable(e.machineInfo.id,r).then(function(t){t.forEach(function(e){e.avaliable&&e.avaliable.forEach(function(e,t,a){switch(e.avaliable){case 0:a[t].semaphor="semaphorRed";break;case 1:a[t].semaphor="semaphorOrange";break;case 2:a[t].semaphor="semaphorGreen"}})}),e.sfFirst=t})})}u.machineOne(d).success(function(t){e.machineInfo=t,e.machineInfo.ofState=r.get(t.status),t.quantityPlanned&&0!=t.quantityPlanned&&t.ofCompleted&&(e.machineInfo.ofCompletedPercent=100*t.ofCompleted/t.quantityPlanned),a()},function(e){console.log(e)})}var d=(i.absUrl().split("/"),a.id);e.$emit("Machine"),e.machineInfo={},e.sfFirst=[],e.goSupervisor=function(){e.$emit("MachineOut"),c.go("common.supervisor")},e.goBack=function(){e.$emit("MachineOut");var t=o.getState();try{c.go(t.id,{id:t.param})}catch(a){c.go("common.supervisor")}},h(),l(h,1e5)}]),angular.module("vilobiApp").controller("homeController",["$scope",function(e){}]),angular.module("vilobiApp").controller("machineRegularController",["$scope","$http","$stateParams","$location","$state","$interval","$timeout","$mdSidenav","$q","driverSrv","machineStateSrv","supervisorSrv","ofSrv",function(e,t,a,n,r,o,i,c,l,s,m,u,h){function d(){function a(){t.get("../../api/machine/"+p).success(function(t){for(var a=t,n=[],r=0,o=0,i=!0;15>o&&r<t.length;)e.machineInfo.of==a[r].OF&&(i=!0),new Date(a[r].DATASTART)>Date.now()&&e.machineInfo.of!=a[r].OF&&i?n[o++]=a[r++]:r++;e.sfFirst=n,h.materialAvaliable(e.machineInfo.id,n).then(function(t){t.forEach(function(e){e.avaliable&&e.avaliable.forEach(function(e,t,a){switch(e.avaliable){case 0:a[t].semaphor="semaphorRed";break;case 1:a[t].semaphor="semaphorOrange";break;case 2:a[t].semaphor="semaphorGreen"}})}),e.sfFirst=t,e.$emit("WorkingOff")})})}e.$emit("WorkingOn"),u.machineOne(p).success(function(t){e.machineInfo=t,e.machineInfo.ofState=m.get(t.status),t.quantityPlanned&&0!=t.quantityPlanned&&t.ofCompleted&&(e.machineInfo.ofCompletedPercent=100*t.ofCompleted/t.quantityPlanned),a()},function(e){console.log(e)})}var p=a.id;e.machineInfo={},e.sfFirst=[],e.goSupervisor=function(){r.go("common.supervisor")},e.goBigScreen=function(t){s.set(a.id),e.$emit("Machine"),r.go("common.machine",{id:t})},e.goBack=function(){try{var e=s.getState();r.go(e.id,{id:e.param})}catch(t){r.go("common.supervisor")}},d(),u.machinesAllTimer=o(d,1e5)}]),angular.module("vilobiApp").controller("machinesRegularController",["$scope","$http","supervisorSrv","machineStateSrv","$stateParams","$location","$state","$interval","$timeout","$mdSidenav","driverSrv",function(e,t,a,n,r,o,i,c,l,s,m){function u(){a.machinesAll(r.id).success(function(t){console.log(t),t.forEach(function(t,a){e.machines[a]=t,e.machines[a].ofState=n.get(t.status),t.quantityPlanned&&0!=t.quantityPlanned&&t.ofCompleted&&(e.machines[a].ofCompletedPercent=100*t.ofCompleted/t.quantityPlanned)})},function(e){console.log(e)})}r.id;e.machines=[],e.goSupervisor=function(){m.set(locate),m.setState(i.current.name),i.go("common.supervisor")},e.goBack=function(){m.get()?i.go("common.supervisorMachine",{id:m.get()}):i.go("common.supervisor")},e.go=function(e){m.setState(i.current.name,r.id),i.go("common.machineRegular",{id:e})},e.goBigScreen=function(t){m.setState(i.current.name,r.id),e.$emit("Machine"),i.go("common.machine",{id:t})},u(),a.machinesAllTimer=c(u,5e3)}]),angular.module("vilobiApp").controller("mainController",["$scope","$rootScope","supervisorSrv",function(e,t,a){e.bodyStyle="",e.showMenu=!0,e.breadcrumbs="home",e.$on("Machine",function(){console.log("Change body color"),e.bodyStyle="vilobiMachine",e.showMenu=!1,e.bckgrndTheme="machine"}),e.$on("MachineOut",function(){e.bodyStyle="",e.showMenu=!0,e.bckgrndTheme="default"}),e.$on("WorkingOn",function(){e.working=!0}),e.$on("WorkingOff",function(){e.working=!1}),t.$on("$stateChangeSuccess",function(t,n,r,o,i){e.breadcrumbs=n.name,a.killTimers()}),t.$on("$routeChangeStart",function(){var e=driverSrv.getState();console.log("HOLAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA!");try{$state.go(e.id,{id:e.param})}catch(t){$state.go("common.supervisor")}})}]),angular.module("vilobiApp").controller("materialController",["$scope","$http","$stateParams","$state",function(e,t,a,n){e.material=[],e.$emit("WorkingOn"),t.get("./api/material/"+a.id).then(function(t){var a=0;t.data.forEach(function(t,n,r){new Date(t.DATASTART)>Date.now()&&t.material.length>0&&(t.material&&t.material.forEach(function(e,a,n){t.material[a].semaphor="semaphorRed",e.RequiredQty<=e.Avalaible?t.material[a].semaphor="semaphorGreen":e.RequiredQty>e.Avalaible&&e.RequiredQty<=e.Avalaible/2&&(t.material[a].semaphor="semaphorOrange")}),e.material[a++]=t)}),e.$emit("WorkingOff")})}]),angular.module("vilobiApp").controller("menuController",["$scope","$mdSidenav","$timeout","$rootScope","$state","ssSideNav","ssSideNavSharedService",function(e,t,a,n,r,o,i){e.machine=!1,e.breadCrumbs=r.current.breadCrumbs,e.onClickMenu=function(){t("left").toggle()},e.$on("Machine",function(){e.machine=!0}),e.$on("MachineOut",function(){e.machine=!1}),e.menu=o,n.$on("$stateChangeSuccess",function(t,a,n,r,o){e.breadCrumbs=a.breadCrumbs})}]),angular.module("vilobiApp").controller("superMachineController",["$scope","supervisorSrv","driverSrv","$stateParams","$state",function(e,t,a,n,r){e.machine=n.id,e.go=function(e){a.setState(r.current.name,n.id),r.go("common.machineRegular",{id:e})},e.goBack=function(){r.go("common.supervisor")},e.goBigScreen=function(t){a.setState(r.current.name,n.id),e.$emit("Machine"),r.go("common.machine",{id:t})},t.machines(n.id).success(function(t){e.machines=t})}]),angular.module("vilobiApp").controller("supervisorController",["$scope","supervisorSrv","driverSrv","$state",function(e,t,a,n){e.go=function(e){a.set(e),a.setState(n.current.name),n.go("common.supervisorMachine",{id:e})},e.goGeneral=function(e){a.set(e),a.setState(n.current.name),n.go("common.machinesRegular",{id:e})},e.goMaterial=function(e){a.set(e),a.setState(n.current.name),n.go("common.material",{id:e})},t.departaments().success(function(a){e.depts=a,a.forEach(function(a,n){t.machines(a.WCGroup).success(function(t){e.depts[n].machines=t})})})}]),angular.module("vilobiApp").directive("sfClock",["$interval","dateFilter",function(e,t){return function(a,n,r){function o(){n.text(t(new Date,"dd/MM/yyyy HH:mm:ss"))}var i;i=e(function(){o()},1e3),n.on("$destroy",function(){e.cancel(i)})}}]),angular.module("vilobiApp").service("driverSrv",["$http",function(e){return this.lastId=null,this.lastState=[],this.set=function(e){this.lastId=e},this.get=function(){return this.lastId},this.setState=function(e,t){this.lastState.push({id:e,param:t})},this.getState=function(){return this.lastState.pop()},this}]),angular.module("vilobiApp").service("machineStateSrv",function(){return this.get=function(e){var t={};switch(e||(e=""),e.trim()){case"Down":t.name="Parat",t.icon="ic_thumb_down_black_18px.svg",t.theme="down";break;case"Pull":t.name="PULL",t.icon="ic_get_app_black_18px.svg",t.theme="pull";break;case"NCDown":t.name="parat sense carrec",t.icon="ic_sync_disabled_black_18px.svg",t.theme="ncdown";break;case"End of Operation":t.name="final operació",t.icon="ic_done_black_18px.svg",t.theme="end";break;case"Setup":t.name="manteniment",t.icon="ic_build_black_18px.svg",t.theme="setup";break;case"Process":t.name="en procés",t.icon="ic_loop_black_18px.svg",t.theme="process";break;default:t={name:"desconegut",icon:"ic_error_black_18px.svg",theme:"error"}}return t},this}),angular.module("vilobiApp").service("ofSrv",["$http","$q",function(e,t){var a,n="../../api/bom/";return this.materialAvaliable=function(r,o){var i=1;return a=t.defer(),o.forEach(function(t,o,c){e.get(n+r+"/"+t.OF).success(function(e){var t=[];0==e.length&&t.push({itemId:"No n'hi ha",avaliable:3}),e.forEach(function(e){var a={itemId:e.ItemId,avaliable:0};e.RequiredQty<=e.Avalaible?a.avaliable=2:e.RequiredQty>e.Avalaible&&e.RequiredQty<=e.Avalaible/2&&(a.avaliable=1),t.push(a)}),c[o].avaliable=t,++i>c.length&&a.resolve(c)})}),a.promise},this}]),angular.module("vilobiApp").factory("supervisorSrv",["$http","$interval",function(e,t){var a="../../api/supervisor/dept",n="../../api/supervisor/deptall",r="../../api/supervisor/deptone";return this.departaments=function(){return e.get(a)},this.machines=function(t){return e.get(a+"/"+t)},this.machinesAll=function(t){return e.get(n+"/"+t)},this.machineOne=function(t){return e.get(r+"/"+t)},this.machinesAllTimer=null,this.killTimers=function(){this.machinesAllTimer&&t.cancel(this.machinesAllTimer)},this}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsIm1lbnUuY2ZnLmpzIiwidGhlbWUuY2ZnLmpzIiwidmlsb2JpLmNmZy5qcyIsImNvbnRyb2xsZXJzL2JpZ1NjcmVlbi5jdHJsLmpzIiwiY29udHJvbGxlcnMvaG9tZS5jdHJsLmpzIiwiY29udHJvbGxlcnMvbWFjaGluZVJlZ3VsYXIuY3RybC5qcyIsImNvbnRyb2xsZXJzL21hY2hpbmVzUmVndWxhci5jdHJsLmpzIiwiY29udHJvbGxlcnMvbWFpbi5jdHJsLmpzIiwiY29udHJvbGxlcnMvbWF0ZXJpYWwuY3RybC5qcyIsImNvbnRyb2xsZXJzL21lbnUuY3RybC5qcyIsImNvbnRyb2xsZXJzL3N1cGVyTWFjaGluZS5jdHJsLmpzIiwiY29udHJvbGxlcnMvc3VwZXJ2aXNvci5jdHJsLmpzIiwiZGlyZWN0aXZlcy9zZkNsb2NrLmpzIiwic2VydmljZXMvZHJpdmVyLnNydi5qcyIsInNlcnZpY2VzL21hY2hpbmVTdGF0ZS5zcnYuanMiLCJzZXJ2aWNlcy9vZlNlcnZlci5qcyIsInNlcnZpY2VzL3N1cGVydmlzb3Iuc3J2LmpzIl0sIm5hbWVzIjpbImFuZ3VsYXIiLCJtb2R1bGUiLCJjb25maWciLCIkbWRUaGVtaW5nUHJvdmlkZXIiLCJzc1NpZGVOYXZTZWN0aW9uc1Byb3ZpZGVyIiwiaW5pdFdpdGhUaGVtZSIsImluaXRXaXRoU2VjdGlvbnMiLCJpZCIsIm5hbWUiLCJzdGF0ZSIsInR5cGUiLCJ0aGVtZSIsImJhY2tncm91bmRQYWxldHRlIiwiZGFyayIsInByaW1hcnlQYWxldHRlIiwiYWNjZW50UGFsZXR0ZSIsImRlZmluZVBhbGV0dGUiLCI1MCIsIjEwMCIsIjIwMCIsIjMwMCIsIjQwMCIsIjUwMCIsIjYwMCIsIjcwMCIsIjgwMCIsIjkwMCIsIkExMDAiLCJBMjAwIiwiQTQwMCIsIkE3MDAiLCJjb250cmFzdERlZmF1bHRDb2xvciIsImNvbnRyYXN0RGFya0NvbG9ycyIsImNvbnRyYXN0TGlnaHRDb2xvcnMiLCJ1bmRlZmluZWQiLCJkZWZhdWx0IiwiYWx3YXlzV2F0Y2hUaGVtZSIsIiRzdGF0ZVByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwiJGxvY2F0aW9uUHJvdmlkZXIiLCJvdGhlcndpc2UiLCJodG1sNU1vZGUiLCJhYnN0cmFjdCIsInRlbXBsYXRlVXJsIiwiY29udHJvbGxlciIsInVybCIsImJyZWFkQ3J1bWJzIiwiJHNjb3BlIiwiJGh0dHAiLCIkc3RhdGVQYXJhbXMiLCJvZlNydiIsIm1hY2hpbmVTdGF0ZVNydiIsImRyaXZlclNydiIsIiRsb2NhdGlvbiIsIiRzdGF0ZSIsIiRpbnRlcnZhbCIsIiR0aW1lb3V0IiwiJG1kU2lkZW5hdiIsInN1cGVydmlzb3JTcnYiLCJtYWNoaW5lTm93MiIsImdldE5leHRPRiIsImdldCIsIm1hY2hpbmUiLCJzdWNjZXNzIiwic2YiLCJhdXgiLCJhdXhzZkZpcnN0IiwiY29udFNGIiwiY29udCIsImxlbmd0aCIsIkRhdGUiLCJub3ciLCJtYWNoaW5lSW5mbyIsIm9mIiwic2ZGaXJzdCIsIm1hdGVyaWFsQXZhbGlhYmxlIiwidGhlbiIsImRkMiIsImZvckVhY2giLCJlbGUiLCJhdmFsaWFibGUiLCJlbGVtZW50IiwiaW5kZXgiLCJhcnJheSIsIm1hY2hpbmVPbmUiLCJtYWNoIiwic3RhdHVzIiwicXVhbnRpdHlQbGFubmVkIiwib2ZDb21wbGV0ZWQiLCJlcnIiLCJjb25zb2xlIiwibG9nIiwiYWJzVXJsIiwic3BsaXQiLCIkZW1pdCIsImdvU3VwZXJ2aXNvciIsImdvIiwiZ29CYWNrIiwiZ2V0U3RhdGUiLCJwYXJhbSIsImVycm9yIiwiJHEiLCJtYWNoaW5lTm93Iiwic3RhcnQiLCJkZCIsImdvQmlnU2NyZWVuIiwibG9jYXRlIiwic2V0IiwibWFjaGluZXNBbGxUaW1lciIsIm1hY2hpbmVzQWxsIiwibWFjaGluZXMiLCJzZXRTdGF0ZSIsImN1cnJlbnQiLCIkcm9vdFNjb3BlIiwiYm9keVN0eWxlIiwic2hvd01lbnUiLCJicmVhZGNydW1icyIsIiRvbiIsImJja2dybmRUaGVtZSIsIndvcmtpbmciLCJldmVudCIsInRvU3RhdGUiLCJ0b1BhcmFtcyIsImZyb21TdGF0ZSIsImZyb21QYXJhbXMiLCJraWxsVGltZXJzIiwibWF0ZXJpYWwiLCJyZXMiLCJhdXhJbmRleCIsImRhdGEiLCJlbGUxIiwiaW5kZXgxIiwiYXJyYXkxIiwic3NTaWRlTmF2Iiwic3NTaWRlTmF2U2hhcmVkU2VydmljZSIsIm9uQ2xpY2tNZW51IiwidG9nZ2xlIiwibWVudSIsImdvR2VuZXJhbCIsImdvTWF0ZXJpYWwiLCJkZXBhcnRhbWVudHMiLCJkZXB0cyIsIldDR3JvdXAiLCJkZXB0IiwiZGlyZWN0aXZlIiwiZGF0ZUZpbHRlciIsInNjb3BlIiwiYXR0cnMiLCJ1cGRhdGVUaW1lIiwidGV4dCIsInN0b3BUaW1lIiwib24iLCJjYW5jZWwiLCJzZXJ2aWNlIiwidGhpcyIsImxhc3RJZCIsImxhc3RTdGF0ZSIsImxhc3QiLCJwdXNoIiwicG9wIiwidHJpbSIsImljb24iLCJkZWZlcnJlZCIsInVybEJhc2UiLCJvZnMiLCJhdXhDb3VudCIsImRlZmVyIiwiT0YiLCJib20iLCJhdXhBdmFsaWFibGUiLCJpdGVtSWQiLCJhdXhCb20iLCJyZXNvbHZlIiwicHJvbWlzZSIsImZhY3RvcnkiLCJkZXB0QWxsIiwiZGVwdE9uZSJdLCJtYXBwaW5ncyI6IkFBQUFBLFFBQUFDLE9BQUEsYUFBQSxZQUFBLGFBQUEsb0NDQUFELFFBQUFDLE9BQUEsYUFDQUMsUUFBQSxxQkFBQSw0QkFBQSxTQUFBQyxFQUFBQyxHQUNBQSxFQUFBQyxjQUFBRixHQUNBQyxFQUFBRSxtQkFDQUMsR0FBQSxPQUNBQyxLQUFBLE9BQ0FDLE1BQUEsY0FDQUMsS0FBQSxTQUVBSCxHQUFBLGFBQ0FDLEtBQUEsYUFDQUMsTUFBQSxvQkFDQUMsS0FBQSxhQ1pBVixRQUFBQyxPQUFBLGFBQ0FDLFFBQUEscUJBQUEsU0FBQUMsR0FDQUEsRUFBQVEsTUFBQSxhQUFBQyxrQkFBQSxRQUFBQyxPQUNBVixFQUFBUSxNQUFBLGVBQUFDLGtCQUFBLFVBQUFDLE9BQ0FW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QUEsNEJBQ0FZLEVBQUEsK0JBQ0FDLEVBQUEsOEJBb0JBLE9BbEJBdEIsTUFBQWQsYUFBQSxXQUNBLE1BQUE1RixHQUFBYSxJQUFBc0csSUFFQVQsS0FBQTVDLFNBQUEsU0FBQWlDLEdBQ0EsTUFBQS9GLEdBQUFhLElBQUFzRyxFQUFBLElBQUFwQixJQUVBVyxLQUFBN0MsWUFBQSxTQUFBa0MsR0FDQSxNQUFBL0YsR0FBQWEsSUFBQWtILEVBQUEsSUFBQWhDLElBRUFXLEtBQUF0RSxXQUFBLFNBQUFDLEdBQ0EsTUFBQXJDLEdBQUFhLElBQUFtSCxFQUFBLElBQUEzRixJQUVBcUUsS0FBQTlDLGlCQUFBLEtBRUE4QyxLQUFBN0IsV0FBQSxXQUNBNkIsS0FBQTlDLGtCQUNBckQsRUFBQWlHLE9BQUFFLEtBQUE5QyxtQkFFQThDIiwiZmlsZSI6InZpbG9iaUFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbImFuZ3VsYXIubW9kdWxlKCd2aWxvYmlBcHAnLFsndWkucm91dGVyJywnbmdNYXRlcmlhbCcsJ3Nhc3Jpby5hbmd1bGFyLW1hdGVyaWFsLXNpZGVuYXYnXSk7IiwiYW5ndWxhci5tb2R1bGUoJ3ZpbG9iaUFwcCcpXHJcbiAgICAuY29uZmlnKGZ1bmN0aW9uKCRtZFRoZW1pbmdQcm92aWRlcixzc1NpZGVOYXZTZWN0aW9uc1Byb3ZpZGVyKSB7XHJcbiAgICAgICAgc3NTaWRlTmF2U2VjdGlvbnNQcm92aWRlci5pbml0V2l0aFRoZW1lKCRtZFRoZW1pbmdQcm92aWRlcik7XHJcbiAgICAgICAgICAgIHNzU2lkZU5hdlNlY3Rpb25zUHJvdmlkZXIuaW5pdFdpdGhTZWN0aW9ucyhbe1xyXG4gICAgICAgICAgICAgICAgICAgIGlkOiAgICAgICAgICdIb21lJyxcclxuICAgICAgICAgICAgICAgICAgICBuYW1lOiAgICAgICAnSG9tZScsXHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGU6ICAgICAgJ2NvbW1vbi5ob21lJyxcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAgICAgICAnbGluaydcclxuICAgICAgICAgICAgICAgIH0se1xyXG4gICAgICAgICAgICAgICAgICAgIGlkOiAgICAgICAgICdTdXBlcnZpc29yJyxcclxuICAgICAgICAgICAgICAgICAgICBuYW1lOiAgICAgICAnU3VwZXJ2aXNvcicsXHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGU6ICAgICAgJ2NvbW1vbi5zdXBlcnZpc29yJyxcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAgICAgICAnbGluaydcclxuICAgICAgICAgICAgICAgIH1dKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICIsImFuZ3VsYXIubW9kdWxlKCd2aWxvYmlBcHAnKVxyXG4gICAgLmNvbmZpZyhmdW5jdGlvbigkbWRUaGVtaW5nUHJvdmlkZXIpIHtcclxuICAgICAgICAkbWRUaGVtaW5nUHJvdmlkZXIudGhlbWUoJ2RhcmstZ3JleScpLmJhY2tncm91bmRQYWxldHRlKCdncmV5JykuZGFyaygpO1xyXG4gICAgICAgICRtZFRoZW1pbmdQcm92aWRlci50aGVtZSgnZGFyay1vcmFuZ2UnKS5iYWNrZ3JvdW5kUGFsZXR0ZSgnb3JhbmdlJykuZGFyaygpO1xyXG4gICAgICAgICRtZFRoZW1pbmdQcm92aWRlci50aGVtZSgnZGFyay1wdXJwbGUnKS5iYWNrZ3JvdW5kUGFsZXR0ZSgnZGVlcC1wdXJwbGUnKS5kYXJrKCk7XHJcbiAgICAgICAgJG1kVGhlbWluZ1Byb3ZpZGVyLnRoZW1lKCdkYXJrLWJsdWUnKS5iYWNrZ3JvdW5kUGFsZXR0ZSgnYmx1ZScpLmRhcmsoKTtcclxuICAgICAgICAkbWRUaGVtaW5nUHJvdmlkZXIudGhlbWUoJ2RhcmstcmVkJykuYmFja2dyb3VuZFBhbGV0dGUoJ3JlZCcpLmRhcmsoKTtcclxuICAgICAgICAkbWRUaGVtaW5nUHJvdmlkZXIudGhlbWUoJ2RlZmF1bHQnKVxyXG4gICAgICAgICAgICAucHJpbWFyeVBhbGV0dGUoJ2JsdWUnKVxyXG4gICAgICAgICAgICAuYWNjZW50UGFsZXR0ZSgnb3JhbmdlJyk7XHJcblxyXG4gICAgICAgICRtZFRoZW1pbmdQcm92aWRlci5kZWZpbmVQYWxldHRlKCdtYWNoaW5lUGFsZXRlJywge1xyXG4gICAgICAgICAgICAnNTAnOiAnZmZjZGQyJyxcclxuICAgICAgICAgICAgICAgICcxMDAnOiAnZmZjZGQyJyxcclxuICAgICAgICAgICAgICAgICcyMDAnOiAnZWY5YTlhJyxcclxuICAgICAgICAgICAgICAgICczMDAnOiAnZTU3MzczJyxcclxuICAgICAgICAgICAgICAgICc0MDAnOiAnZWY1MzUwJyxcclxuICAgICAgICAgICAgICAgICc1MDAnOiAnZjQ0MzM2JyxcclxuICAgICAgICAgICAgICAgICc2MDAnOiAnZTUzOTM1JyxcclxuICAgICAgICAgICAgICAgICc3MDAnOiAnZDMyZjJmJyxcclxuICAgICAgICAgICAgICAgICc4MDAnOiAnYzYyODI4JyxcclxuICAgICAgICAgICAgICAgICc5MDAnOiAnYjcxYzFjJyxcclxuICAgICAgICAgICAgICAgICdBMTAwJzogJzAwMDAwMCcsICAvLyBCYWNrZ3JvdW5kIENvbG9yXHJcbiAgICAgICAgICAgICAgICAnQTIwMCc6ICdmZjUyNTInLFxyXG4gICAgICAgICAgICAgICAgJ0E0MDAnOiAnZmYxNzQ0JyxcclxuICAgICAgICAgICAgICAgICdBNzAwJzogJ2Q1MDAwMCcsXHJcbiAgICAgICAgICAgICAgICAnY29udHJhc3REZWZhdWx0Q29sb3InOiAnbGlnaHQnLCAgICAvLyB3aGV0aGVyLCBieSBkZWZhdWx0LCB0ZXh0IChjb250cmFzdClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9uIHRoaXMgcGFsZXR0ZSBzaG91bGQgYmUgZGFyayBvciBsaWdodFxyXG4gICAgICAgICAgICAgICAgJ2NvbnRyYXN0RGFya0NvbG9ycyc6IFsnNTAnLCAnMTAwJywgLy9odWVzIHdoaWNoIGNvbnRyYXN0IHNob3VsZCBiZSAnZGFyaycgYnkgZGVmYXVsdFxyXG4gICAgICAgICAgICAgICAgJzIwMCcsICczMDAnLCAnNDAwJywgJ0ExMDAnXSxcclxuICAgICAgICAgICAgICAgICdjb250cmFzdExpZ2h0Q29sb3JzJzogdW5kZWZpbmVkIFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkbWRUaGVtaW5nUHJvdmlkZXIudGhlbWUoJ21hY2hpbmUnKVxyXG4gICAgICAgICAgICAucHJpbWFyeVBhbGV0dGUoJ2JsdWUnKVxyXG4gICAgICAgICAgICAuYmFja2dyb3VuZFBhbGV0dGUoJ21hY2hpbmVQYWxldGUnKTtcclxuXHJcblxyXG4gICAgICAgICAgICRtZFRoZW1pbmdQcm92aWRlci5kZWZpbmVQYWxldHRlKCdicmVhZGNydW1ic1BhbGV0dGVOYW1lJywge1xyXG4gICAgICAgICAgICAgICAgJzUwJzogJ0ZGRkZGRicsXHJcbiAgICAgICAgICAgICAgICAnMTAwJzogJ2ZmY2RkMicsXHJcbiAgICAgICAgICAgICAgICAnMjAwJzogJ2VmOWE5YScsXHJcbiAgICAgICAgICAgICAgICAnMzAwJzogJ2U1NzM3MycsXHJcbiAgICAgICAgICAgICAgICAnNDAwJzogJ2VmNTM1MCcsXHJcbiAgICAgICAgICAgICAgICAnNTAwJzogJ2Y0NDMzNicsXHJcbiAgICAgICAgICAgICAgICAnNjAwJzogJ2U1MzkzNScsXHJcbiAgICAgICAgICAgICAgICAnNzAwJzogJ2QzMmYyZicsXHJcbiAgICAgICAgICAgICAgICAnODAwJzogJ2M2MjgyOCcsXHJcbiAgICAgICAgICAgICAgICAnOTAwJzogJ2I3MWMxYycsXHJcbiAgICAgICAgICAgICAgICAnQTEwMCc6ICdmZjhhODAnLFxyXG4gICAgICAgICAgICAgICAgJ0EyMDAnOiAnZmY1MjUyJyxcclxuICAgICAgICAgICAgICAgICdBNDAwJzogJ2ZmMTc0NCcsXHJcbiAgICAgICAgICAgICAgICAnQTcwMCc6ICdkNTAwMDAnLFxyXG4gICAgICAgICAgICAgICAgJ2NvbnRyYXN0RGVmYXVsdENvbG9yJzogJ2xpZ2h0JywgICAgLy8gd2hldGhlciwgYnkgZGVmYXVsdCwgdGV4dCAoY29udHJhc3QpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBvbiB0aGlzIHBhbGV0dGUgc2hvdWxkIGJlIGRhcmsgb3IgbGlnaHRcclxuICAgICAgICAgICAgICAgICdjb250cmFzdERhcmtDb2xvcnMnOiBbJzUwJywgJzEwMCcsIC8vaHVlcyB3aGljaCBjb250cmFzdCBzaG91bGQgYmUgJ2RhcmsnIGJ5IGRlZmF1bHRcclxuICAgICAgICAgICAgICAgICcyMDAnLCAnMzAwJywgJzQwMCcsICdBMTAwJ10sXHJcbiAgICAgICAgICAgICAgICAnY29udHJhc3RMaWdodENvbG9ycyc6IHVuZGVmaW5lZCAgICAvLyBjb3VsZCBhbHNvIHNwZWNpZnkgdGhpcyBpZiBkZWZhdWx0IHdhcyAnZGFyaydcclxuICAgICAgICAgICAgfSk7ICAgXHJcbiAgICAgICAgICRtZFRoZW1pbmdQcm92aWRlci50aGVtZSgnYnJlYWRjcnVtYnMnKVxyXG4gICAgICAgICAgICAucHJpbWFyeVBhbGV0dGUoJ2JyZWFkY3J1bWJzUGFsZXR0ZU5hbWUnLCB7XHJcbiAgICAgICAgICAgICAgICAnZGVmYXVsdCc6ICc1MCdcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgJG1kVGhlbWluZ1Byb3ZpZGVyLnRoZW1lKCdwcm9jZXNzJylcclxuICAgICAgICAgICAgLmJhY2tncm91bmRQYWxldHRlKCdncmVlbicpO1xyXG4gICAgICAgICRtZFRoZW1pbmdQcm92aWRlci50aGVtZSgnc2V0dXAnKVxyXG4gICAgICAgICAgICAuYmFja2dyb3VuZFBhbGV0dGUoJ2FtYmVyJyk7XHJcbiAgICAgICAgJG1kVGhlbWluZ1Byb3ZpZGVyLnRoZW1lKCdwdWxsJylcclxuICAgICAgICAgICAgLmJhY2tncm91bmRQYWxldHRlKCdibHVlJyk7XHJcbiAgICAgICAgJG1kVGhlbWluZ1Byb3ZpZGVyLnRoZW1lKCdlbmQnKVxyXG4gICAgICAgICAgICAuYmFja2dyb3VuZFBhbGV0dGUoJ3JlZCcpO1xyXG4gICAgICAgICRtZFRoZW1pbmdQcm92aWRlci50aGVtZSgnbmNkb3duJylcclxuICAgICAgICAgICAgLmJhY2tncm91bmRQYWxldHRlKCdvcmFuZ2UnKTtcclxuICAgICAgICAkbWRUaGVtaW5nUHJvdmlkZXIudGhlbWUoJ2Rvd24nKVxyXG4gICAgICAgICAgICAuYmFja2dyb3VuZFBhbGV0dGUoJ2RlZXAtb3JhbmdlJyk7XHJcbiAgICAgICAgJG1kVGhlbWluZ1Byb3ZpZGVyLnRoZW1lKCdlcnJvcicpXHJcbiAgICAgICAgICAgIC5iYWNrZ3JvdW5kUGFsZXR0ZSgnZ3JleScpO1xyXG4gICAgICAgIC8qIFNlbWFwaG9yIHRoZW1pbmcgKi9cclxuICAgICAgICAkbWRUaGVtaW5nUHJvdmlkZXIudGhlbWUoJ3NlbWFwaG9yUmVkJylcclxuICAgICAgICAgICAgLnByaW1hcnlQYWxldHRlKCdyZWQnKVxyXG4gICAgICAgICAgICAuYmFja2dyb3VuZFBhbGV0dGUoJ3JlZCcse1xyXG4gICAgICAgICAgICAgICAgJ2RlZmF1bHQnIDogJzEwMCdcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmRhcmsoKTtcclxuICAgICAgICAkbWRUaGVtaW5nUHJvdmlkZXIudGhlbWUoJ3NlbWFwaG9yT3JhbmdlJylcclxuICAgICAgICAgICAgLnByaW1hcnlQYWxldHRlKCdvcmFuZ2UnKVxyXG4gICAgICAgICAgICAuYmFja2dyb3VuZFBhbGV0dGUoJ29yYW5nZScse1xyXG4gICAgICAgICAgICAgICAgJ2RlZmF1bHQnIDogJzEwMCdcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmRhcmsoKTtcclxuICAgICAgICAkbWRUaGVtaW5nUHJvdmlkZXIudGhlbWUoJ3NlbWFwaG9yR3JlZW4nKVxyXG4gICAgICAgICAgICAucHJpbWFyeVBhbGV0dGUoJ2dyZWVuJylcclxuICAgICAgICAgICAgLmFjY2VudFBhbGV0dGUoJ2dyZWVuJylcclxuICAgICAgICAgICAgLmJhY2tncm91bmRQYWxldHRlKCdncmVlbicse1xyXG4gICAgICAgICAgICAgICAgJ2RlZmF1bHQnIDogJzEwMCdcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmRhcmsoKTtcclxuXHJcbiAgICAgICAgJG1kVGhlbWluZ1Byb3ZpZGVyLmFsd2F5c1dhdGNoVGhlbWUodHJ1ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAiLCJhbmd1bGFyLm1vZHVsZSgndmlsb2JpQXBwJylcclxuICAgIC5jb25maWcoZnVuY3Rpb24oJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlciwkbG9jYXRpb25Qcm92aWRlcikge1xyXG4gICAgICAgICR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoXCIvXCIpO1xyXG4gICAgICAgICRsb2NhdGlvblByb3ZpZGVyLmh0bWw1TW9kZSh0cnVlKTtcclxuICAgICAgICBcclxuICAgICAgICAkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuICcvJztcclxuICAgICAgICB9KTtcclxuICAgICAgICAkc3RhdGVQcm92aWRlclxyXG4gICAgICAgICAgICAuc3RhdGUoJ2NvbW1vbicgLHtcclxuICAgICAgICAgICAgICAgIGFic3RyYWN0OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZXMvX2NvbW1vbi5odG1sJyxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdtZW51Q29udHJvbGxlcidcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnN0YXRlKCdjb21tb24uaG9tZScsIHtcclxuICAgICAgICAgICAgICAgIHVybCAgICAgICAgICAgICA6ICAgJy8nLFxyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmwgICAgOiAgICd0ZW1wbGF0ZXMvaG9tZS5odG1sJyxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdob21lQ29udHJvbGxlcicsXHJcbiAgICAgICAgICAgICAgICBicmVhZENydW1icyA6ICdob21lJ1xyXG5cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnN0YXRlKCdjb21tb24ubWFjaGluZScgLCB7XHJcbiAgICAgICAgICAgICAgICB1cmwgICAgICAgICAgICAgOiAgICcvbWFjaGluZS86aWQnLFxyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmwgICAgOiAgICcvdGVtcGxhdGVzL21hY2hpbmUuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyICAgICAgOiAgICdiaXRTY3JlZW5Db250cm9sbGVyJyxcclxuICAgICAgICAgICAgICAgIGJyZWFkQ3J1bWJzIDogJ21hY2hpbmUnXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zdGF0ZSgnY29tbW9uLm1hY2hpbmVSZWd1bGFyJyAsIHtcclxuICAgICAgICAgICAgICAgIHVybCAgICAgICAgICAgICA6ICAgJy9tYWNoaW5lUmVndWxhci86aWQnLFxyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmwgICAgOiAgICcvdGVtcGxhdGVzL21hY2hpbmVSZWd1bGFyLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlciAgICAgIDogICAnbWFjaGluZVJlZ3VsYXJDb250cm9sbGVyJyxcclxuICAgICAgICAgICAgICAgIGJyZWFkQ3J1bWJzIDogJ21hY2hpbmUnXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zdGF0ZSgnY29tbW9uLm1hY2hpbmVzUmVndWxhcicgLCB7XHJcbiAgICAgICAgICAgICAgICB1cmwgICAgICAgICAgICAgOiAgICcvbWFjaGluZXNSZWd1bGFyLzppZCcsXHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybCAgICA6ICAgJy90ZW1wbGF0ZXMvbWFjaGluZXNSZWd1bGFyLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlciAgICAgIDogICAnbWFjaGluZXNSZWd1bGFyQ29udHJvbGxlcicsXHJcbiAgICAgICAgICAgICAgICBicmVhZENydW1icyA6ICdtYWNoaW5lcydcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnN0YXRlKCdjb21tb24uc3VwZXJ2aXNvcicgLCB7XHJcbiAgICAgICAgICAgICAgICB1cmwgICAgICAgICAgICAgOiAgICcvc3VwZXJ2aXNvcicsXHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybCAgICA6ICAgJy90ZW1wbGF0ZXMvc3VwZXJ2aXNvcjIuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyICAgICAgOiAgICdzdXBlcnZpc29yQ29udHJvbGxlcicsXHJcbiAgICAgICAgICAgICAgICBicmVhZENydW1icyA6ICdzdXBlcnZpc29yJ1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc3RhdGUoJ2NvbW1vbi5zdXBlcnZpc29yTWFjaGluZScgLCB7XHJcbiAgICAgICAgICAgICAgICB1cmwgICAgICAgICAgICAgOiAgICcvc3VwZXJ2aXNvci86aWQnLFxyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmwgICAgOiAgICcvdGVtcGxhdGVzL3N1cGVydmlzb3JNYWNoaW5lLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlciAgICAgIDogICAnc3VwZXJNYWNoaW5lQ29udHJvbGxlcicsXHJcbiAgICAgICAgICAgICAgICBicmVhZENydW1icyA6ICdkZXRhbGwgc3VwZXJ2aXNvcidcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnN0YXRlKCdjb21tb24ubWF0ZXJpYWwnICwge1xyXG4gICAgICAgICAgICAgICAgdXJsICAgICAgICAgICAgIDogICAnL21hdGVyaWFsLzppZCcsXHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybCAgICA6ICAgJy90ZW1wbGF0ZXMvbWF0ZXJpYWwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyICAgICAgOiAgICdtYXRlcmlhbENvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICAgICAgYnJlYWRDcnVtYnMgOiAnbWF0ZXJpYWwnXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIFxyXG4gICAgfSkiLCJhbmd1bGFyLm1vZHVsZSgndmlsb2JpQXBwJylcclxuICAgIC5jb250cm9sbGVyKCdiaXRTY3JlZW5Db250cm9sbGVyJywgZnVuY3Rpb24oJHNjb3BlLCAkaHR0cCwgJHN0YXRlUGFyYW1zLCBvZlNydiAsIG1hY2hpbmVTdGF0ZVNydiAsZHJpdmVyU3J2LCAkbG9jYXRpb24sICRzdGF0ZSwgJGludGVydmFsLCAkdGltZW91dCwgJG1kU2lkZW5hdiwgc3VwZXJ2aXNvclNydiApIHtcclxuICAgICAgICB2YXIgdXJsID0gJGxvY2F0aW9uLmFic1VybCgpLnNwbGl0KCcvJyk7XHJcbiAgICAgICAgdmFyIG1hY2hpbmUgPSAkc3RhdGVQYXJhbXMuaWQ7XHJcbiAgICAgICAgJHNjb3BlLiRlbWl0KCdNYWNoaW5lJyk7XHJcbiAgICAgICAgJHNjb3BlLm1hY2hpbmVJbmZvID0ge307XHJcbiAgICAgICAgJHNjb3BlLnNmRmlyc3QgPVtdO1xyXG4gICAgICAgIFxyXG4gICAgICAgICRzY29wZS5nb1N1cGVydmlzb3IgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdNYWNoaW5lT3V0Jyk7XHJcbiAgICAgICAgICAgICRzdGF0ZS5nbygnY29tbW9uLnN1cGVydmlzb3InKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICRzY29wZS5nb0JhY2sgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdNYWNoaW5lT3V0Jyk7XHJcbiAgICAgICAgICAgIHZhciBzdGF0ZSA9IGRyaXZlclNydi5nZXRTdGF0ZSgpO1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgJHN0YXRlLmdvKHN0YXRlLmlkLHsnaWQnOnN0YXRlLnBhcmFtfSk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ2NvbW1vbi5zdXBlcnZpc29yJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgIFxyXG4gICAgICAgIGZ1bmN0aW9uIG1hY2hpbmVOb3cyKCkge1xyXG4gICAgICAgICAgICBzdXBlcnZpc29yU3J2Lm1hY2hpbmVPbmUobWFjaGluZSlcclxuICAgICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKG1hY2gpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWFjaGluZUluZm8gPSBtYWNoO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5tYWNoaW5lSW5mb1snb2ZTdGF0ZSddID0gbWFjaGluZVN0YXRlU3J2LmdldChtYWNoLnN0YXR1cyk7ICBcclxuICAgICAgICAgICAgICAgICAgICBpZiAobWFjaC5xdWFudGl0eVBsYW5uZWQgJiYgbWFjaC5xdWFudGl0eVBsYW5uZWQgIT0gMCAmJiBtYWNoLm9mQ29tcGxldGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1hY2hpbmVJbmZvWydvZkNvbXBsZXRlZFBlcmNlbnQnXSA9IG1hY2gub2ZDb21wbGV0ZWQqMTAwL21hY2gucXVhbnRpdHlQbGFubmVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZ2V0TmV4dE9GKCk7XHJcbiAgICAgICAgICAgICAgICB9LGZ1bmN0aW9uKGVycil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGdldE5leHRPRigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZ2V0KCcuLi8uLi9hcGkvbWFjaGluZS8nK21hY2hpbmUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihzZikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhdXggPSBzZjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXV4c2ZGaXJzdCA9IFtdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnRTRiA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnQgPTBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoY29udCA8IDYgJiYgY29udFNGIDwgc2YubGVuZ3RoICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3IERhdGUoYXV4W2NvbnRTRl1bJ0RBVEFTVEFSVCddKSA+IERhdGUubm93KCkgJiYgJHNjb3BlLm1hY2hpbmVJbmZvLm9mICE9IGF1eFtjb250U0ZdWydPRiddKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXhzZkZpcnN0W2NvbnQrK10gPSBhdXhbY29udFNGKytdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udFNGKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2ZGaXJzdCA9IGF1eHNmRmlyc3Q7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mU3J2Lm1hdGVyaWFsQXZhbGlhYmxlKCRzY29wZS5tYWNoaW5lSW5mby5pZCwgYXV4c2ZGaXJzdClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGQyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZDIuZm9yRWFjaChmdW5jdGlvbihlbGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlLmF2YWxpYWJsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlLmF2YWxpYWJsZS5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQsIGluZGV4LCBhcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGVsZW1lbnQuYXZhbGlhYmxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDAgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFycmF5W2luZGV4XVsnc2VtYXBob3InXSA9ICdzZW1hcGhvclJlZCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDEgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFycmF5W2luZGV4XVsnc2VtYXBob3InXSA9ICdzZW1hcGhvck9yYW5nZSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDIgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFycmF5W2luZGV4XVsnc2VtYXBob3InXSA9ICdzZW1hcGhvckdyZWVuJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2ZGaXJzdCA9IGRkMjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICBtYWNoaW5lTm93MigpOyAgXHJcbiAgICAgICAgJGludGVydmFsKG1hY2hpbmVOb3cyLDEwMDAwMCk7XHJcbiAgICAgICAgXHJcbiAgICB9KTtcclxuXHJcblxyXG4iLCJhbmd1bGFyLm1vZHVsZSgndmlsb2JpQXBwJylcclxuICAgIC5jb250cm9sbGVyKCdob21lQ29udHJvbGxlcicgLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICAgIH0pOyIsImFuZ3VsYXIubW9kdWxlKCd2aWxvYmlBcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ21hY2hpbmVSZWd1bGFyQ29udHJvbGxlcicsIGZ1bmN0aW9uKCRzY29wZSwgJGh0dHAsICRzdGF0ZVBhcmFtcywgJGxvY2F0aW9uLCAkc3RhdGUsICRpbnRlcnZhbCwgJHRpbWVvdXQsICRtZFNpZGVuYXYsICRxLCBkcml2ZXJTcnYsIG1hY2hpbmVTdGF0ZVNydixzdXBlcnZpc29yU3J2LG9mU3J2KSB7XHJcbiAgICAgICAgdmFyIG1hY2hpbmUgPSAkc3RhdGVQYXJhbXMuaWQ7XHJcbiAgICAgICAgJHNjb3BlLm1hY2hpbmVJbmZvID0ge307XHJcbiAgICAgICAgJHNjb3BlLnNmRmlyc3QgPSBbXTtcclxuXHJcbiAgICAgICAgXHJcbiAgICAgICAgJHNjb3BlLmdvU3VwZXJ2aXNvciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAkc3RhdGUuZ28oJ2NvbW1vbi5zdXBlcnZpc29yJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkc2NvcGUuZ29CaWdTY3JlZW4gPSBmdW5jdGlvbihsb2NhdGUpIHtcclxuICAgICAgICAgICAgZHJpdmVyU3J2LnNldCgkc3RhdGVQYXJhbXMuaWQpO1xyXG4gICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ01hY2hpbmUnKTtcclxuICAgICAgICAgICAgJHN0YXRlLmdvKCdjb21tb24ubWFjaGluZScseydpZCc6bG9jYXRlfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBcclxuICAgICAgICAkc2NvcGUuZ29CYWNrID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3RhdGUgPSBkcml2ZXJTcnYuZ2V0U3RhdGUoKTtcclxuICAgICAgICAgICAgICAgICRzdGF0ZS5nbyhzdGF0ZS5pZCx7J2lkJzpzdGF0ZS5wYXJhbX0pO1xyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdjb21tb24uc3VwZXJ2aXNvcicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBtYWNoaW5lTm93KCkge1xyXG4gICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1dvcmtpbmdPbicpO1xyXG4gICAgICAgICAgICBzdXBlcnZpc29yU3J2Lm1hY2hpbmVPbmUobWFjaGluZSlcclxuICAgICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKG1hY2gpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWFjaGluZUluZm8gPSBtYWNoO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5tYWNoaW5lSW5mb1snb2ZTdGF0ZSddID0gbWFjaGluZVN0YXRlU3J2LmdldChtYWNoLnN0YXR1cyk7ICBcclxuICAgICAgICAgICAgICAgICAgICBpZiAobWFjaC5xdWFudGl0eVBsYW5uZWQgJiYgbWFjaC5xdWFudGl0eVBsYW5uZWQgIT0gMCAmJiBtYWNoLm9mQ29tcGxldGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1hY2hpbmVJbmZvWydvZkNvbXBsZXRlZFBlcmNlbnQnXSA9IG1hY2gub2ZDb21wbGV0ZWQqMTAwL21hY2gucXVhbnRpdHlQbGFubmVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZ2V0TmV4dE9GKCk7XHJcbiAgICAgICAgICAgICAgICB9LGZ1bmN0aW9uKGVycil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldE5leHRPRigpIHtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5nZXQoJy4uLy4uL2FwaS9tYWNoaW5lLycrbWFjaGluZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oc2YpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhdXggPSBzZjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhdXhzZkZpcnN0ID0gW11cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb250U0YgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnQgPTBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdGFydCA9IHRydWU7IC8vVGhpcyBNdXN0IGJlIGZhbHNlLCBidXQgZm9yIHRlc3QgcmVhc29uIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGNvbnQgPCAxNSAmJiBjb250U0YgPCBzZi5sZW5ndGggKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5tYWNoaW5lSW5mby5vZiA9PSBhdXhbY29udFNGXVsnT0YnXSkgc3RhcnQgPSB0cnVlOyAgLy9JIGhhdmUgdG8gdGVzdCwgbm93IGlzIHVuYXZhbGlhYmxlLCBpcyBsaWtlIHRoaXMgbm90IGV4aXN0cywgYmVjYXVzZSBhbHdheXMgaXMgdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXcgRGF0ZShhdXhbY29udFNGXVsnREFUQVNUQVJUJ10pID4gRGF0ZS5ub3coKSAmJiAkc2NvcGUubWFjaGluZUluZm8ub2YgIT0gYXV4W2NvbnRTRl1bJ09GJ10gJiYgc3RhcnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV4c2ZGaXJzdFtjb250KytdID0gYXV4W2NvbnRTRisrXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250U0YrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNmRmlyc3QgPSBhdXhzZkZpcnN0O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mU3J2Lm1hdGVyaWFsQXZhbGlhYmxlKCRzY29wZS5tYWNoaW5lSW5mby5pZCxhdXhzZkZpcnN0KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRkLmZvckVhY2goZnVuY3Rpb24oZWxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlLmF2YWxpYWJsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGUuYXZhbGlhYmxlLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCwgaW5kZXgsIGFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChlbGVtZW50LmF2YWxpYWJsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDAgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyYXlbaW5kZXhdWydzZW1hcGhvciddID0gJ3NlbWFwaG9yUmVkJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDEgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyYXlbaW5kZXhdWydzZW1hcGhvciddID0gJ3NlbWFwaG9yT3JhbmdlJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDIgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyYXlbaW5kZXhdWydzZW1hcGhvciddID0gJ3NlbWFwaG9yR3JlZW4nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2ZGaXJzdCA9IGRkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1dvcmtpbmdPZmYnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgXHJcbiAgICAgICAgICAgICAgICBcclxuXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgbWFjaGluZU5vdygpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHN1cGVydmlzb3JTcnYubWFjaGluZXNBbGxUaW1lciA9ICRpbnRlcnZhbChtYWNoaW5lTm93LDEwMDAwMCk7XHJcbiAgICAgICAgXHJcbiAgICB9KTtcclxuXHJcbiAgICAvKiAgICBhIFJFVklTQVJcclxuICAgICAqIFxyXG4gICAgICogXHJcbiAgICAgKiBcclxuICAgICAqIG9mU3J2Lm1hdGVyaWFsQXZhbGlhYmxlKGF1eFtpXS5PRilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGF2YWxpYWJsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGF2YWxpYWJsZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqPTA7IGogPCBhdmFsaWFibGUubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3BhdGF0YScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygkc2NvcGUuc2ZGaXJzdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCctLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF2YWxpYWJsZVtqXVsnQXZhbGFpYmxlJ10gPD0gKGF2YWxpYWJsZVtqXVsnUmVxdWlyZWRRdHknXS8yKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2ZGaXJzdFtpXVsnYXZhbGlhYmxlJ10gPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoKGF2YWxpYWJsZVtqXVsnQXZhbGFpYmxlJ10gPiAoYXZhbGlhYmxlW2pdWydSZXF1aXJlZFF0eSddLzIpKSAmJiBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGF2YWxpYWJsZVtqXVsnQXZhbGFpYmxlJ10gPCBhdmFsaWFibGVbal1bJ1JlcXVpcmVkUXR5J10pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhhdXhbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNmRmlyc3RbaV1bJ2F2YWxpYWJsZSddID0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgkc2NvcGUuc2ZGaXJzdFtpXVsnYXZhbGlhYmxlJ10gIT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNmRmlyc3RbaV1bJ2F2YWxpYWJsZSddID0gMjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgKi8iLCJhbmd1bGFyLm1vZHVsZSgndmlsb2JpQXBwJylcclxuICAgIC5jb250cm9sbGVyKCdtYWNoaW5lc1JlZ3VsYXJDb250cm9sbGVyJywgZnVuY3Rpb24oJHNjb3BlLCAkaHR0cCwgc3VwZXJ2aXNvclNydiwgbWFjaGluZVN0YXRlU3J2LCAkc3RhdGVQYXJhbXMsICRsb2NhdGlvbiwgJHN0YXRlLCAkaW50ZXJ2YWwsICR0aW1lb3V0LCAkbWRTaWRlbmF2LCBkcml2ZXJTcnYpIHtcclxuICAgICAgICB2YXIgbWFjaGluZSA9ICRzdGF0ZVBhcmFtcy5pZDtcclxuICAgICAgICB2YXIgbWFjaGluZXMgPSBbXTtcclxuICAgICAgICB2YXIgaW50ZXJ2YWxNYWNoaW5lcztcclxuICAgICAgICAkc2NvcGUubWFjaGluZXMgPSBbXTtcclxuXHJcbiAgICAgICAgJHNjb3BlLmdvU3VwZXJ2aXNvciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBkcml2ZXJTcnYuc2V0KGxvY2F0ZSk7XHJcbiAgICAgICAgICAgIGRyaXZlclNydi5zZXRTdGF0ZSgkc3RhdGUuY3VycmVudC5uYW1lKTtcclxuICAgICAgICAgICAgJHN0YXRlLmdvKCdjb21tb24uc3VwZXJ2aXNvcicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAkc2NvcGUuZ29CYWNrID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZiAoZHJpdmVyU3J2LmdldCgpKSB7XHJcbiAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ2NvbW1vbi5zdXBlcnZpc29yTWFjaGluZScseydpZCc6ZHJpdmVyU3J2LmdldCgpfSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ2NvbW1vbi5zdXBlcnZpc29yJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgJHNjb3BlLmdvID0gZnVuY3Rpb24obG9jYXRlKSB7XHJcbiAgICAgICAgICAgICAgICBkcml2ZXJTcnYuc2V0U3RhdGUoJHN0YXRlLmN1cnJlbnQubmFtZSwkc3RhdGVQYXJhbXMuaWQpO1xyXG4gICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdjb21tb24ubWFjaGluZVJlZ3VsYXInLHsnaWQnOmxvY2F0ZX0pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAkc2NvcGUuZ29CaWdTY3JlZW4gPSBmdW5jdGlvbihsb2NhdGUpIHtcclxuICAgICAgICAgICAgICAgIGRyaXZlclNydi5zZXRTdGF0ZSgkc3RhdGUuY3VycmVudC5uYW1lLCRzdGF0ZVBhcmFtcy5pZCk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ01hY2hpbmUnKTtcclxuICAgICAgICAgICAgICAgICRzdGF0ZS5nbygnY29tbW9uLm1hY2hpbmUnLHsnaWQnOmxvY2F0ZX0pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgXHJcblxyXG5cclxuICAgICAgICBcclxuICAgICAgICBcclxuICAgICAgICBmdW5jdGlvbiBtYWNoaW5lTm93KCkge1xyXG4gICAgICAgICAgICBzdXBlcnZpc29yU3J2Lm1hY2hpbmVzQWxsKCRzdGF0ZVBhcmFtcy5pZClcclxuICAgICAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihtYWNoKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cobWFjaCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hY2guZm9yRWFjaChmdW5jdGlvbihlbGVtZW50LGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWFjaGluZXNbaW5kZXhdID0gZWxlbWVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tYWNoaW5lc1tpbmRleF1bJ29mU3RhdGUnXSA9IG1hY2hpbmVTdGF0ZVNydi5nZXQoZWxlbWVudC5zdGF0dXMpOyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LnF1YW50aXR5UGxhbm5lZCAmJiBlbGVtZW50LnF1YW50aXR5UGxhbm5lZCAhPSAwICYmIGVsZW1lbnQub2ZDb21wbGV0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWFjaGluZXNbaW5kZXhdWydvZkNvbXBsZXRlZFBlcmNlbnQnXSA9IGVsZW1lbnQub2ZDb21wbGV0ZWQqMTAwL2VsZW1lbnQucXVhbnRpdHlQbGFubmVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG5cclxuICAgICAgICAgICAgICAgICAgICB9LGZ1bmN0aW9uKGVycil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgbWFjaGluZU5vdygpO1xyXG4gICAgICAgIHN1cGVydmlzb3JTcnYubWFjaGluZXNBbGxUaW1lciA9ICRpbnRlcnZhbChtYWNoaW5lTm93LDUwMDApO1xyXG4gICAgICAgIFxyXG4gICAgfSk7IiwiYW5ndWxhci5tb2R1bGUoJ3ZpbG9iaUFwcCcpXHJcbiAgICAuY29udHJvbGxlcignbWFpbkNvbnRyb2xsZXInICwgZnVuY3Rpb24oJHNjb3BlLCRyb290U2NvcGUsIHN1cGVydmlzb3JTcnYpIHtcclxuICAgICAgICAkc2NvcGUuYm9keVN0eWxlID0gJyc7XHJcbiAgICAgICAgJHNjb3BlLnNob3dNZW51ID0gdHJ1ZTtcclxuICAgICAgICAkc2NvcGUuYnJlYWRjcnVtYnMgPSAnaG9tZSc7XHJcbiAgICAgICAgXHJcbiAgICAgICAgJHNjb3BlLiRvbignTWFjaGluZScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQ2hhbmdlIGJvZHkgY29sb3InKTtcclxuICAgICAgICAgICAgJHNjb3BlLmJvZHlTdHlsZSA9ICd2aWxvYmlNYWNoaW5lJztcclxuICAgICAgICAgICAgJHNjb3BlLnNob3dNZW51ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICRzY29wZS5iY2tncm5kVGhlbWUgPSAnbWFjaGluZSc7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICRzY29wZS4kb24oJ01hY2hpbmVPdXQnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgJHNjb3BlLmJvZHlTdHlsZSA9ICcnOyBcclxuICAgICAgICAgICAgJHNjb3BlLnNob3dNZW51ID0gdHJ1ZTtcclxuICAgICAgICAgICAgJHNjb3BlLmJja2dybmRUaGVtZSA9ICdkZWZhdWx0J1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkc2NvcGUuJG9uKCdXb3JraW5nT24nLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgJHNjb3BlLndvcmtpbmcgPSB0cnVlO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkc2NvcGUuJG9uKCdXb3JraW5nT2ZmJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICRzY29wZS53b3JraW5nID0gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgJHJvb3RTY29wZS4kb24oJyRzdGF0ZUNoYW5nZVN1Y2Nlc3MnLCBmdW5jdGlvbihldmVudCwgdG9TdGF0ZSwgdG9QYXJhbXMsIGZyb21TdGF0ZSwgZnJvbVBhcmFtcykge1xyXG4gICAgICAgICAgICAkc2NvcGUuYnJlYWRjcnVtYnMgPSB0b1N0YXRlLm5hbWU7XHJcbiAgICAgICAgICAgIHN1cGVydmlzb3JTcnYua2lsbFRpbWVycygpO1xyXG4gICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICRyb290U2NvcGUuJG9uKCckcm91dGVDaGFuZ2VTdGFydCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgc3RhdGUgPSBkcml2ZXJTcnYuZ2V0U3RhdGUoKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0hPTEFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUEhJylcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICRzdGF0ZS5nbyhzdGF0ZS5pZCx7J2lkJzpzdGF0ZS5wYXJhbX0pO1xyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdjb21tb24uc3VwZXJ2aXNvcicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgIH0pXHJcbiAgICAgICAgXHJcbiAgICB9KTsiLCJhbmd1bGFyLm1vZHVsZSgndmlsb2JpQXBwJylcclxuICAgIC5jb250cm9sbGVyKCdtYXRlcmlhbENvbnRyb2xsZXInLCBmdW5jdGlvbigkc2NvcGUsICRodHRwLCAkc3RhdGVQYXJhbXMgLCRzdGF0ZSkge1xyXG4gICAgICAgICRzY29wZS5tYXRlcmlhbCA9IFtdO1xyXG4gICAgICAgICRzY29wZS4kZW1pdCgnV29ya2luZ09uJyk7XHJcbiAgICAgICAgJGh0dHAuZ2V0KCcuL2FwaS9tYXRlcmlhbC8nKyRzdGF0ZVBhcmFtcy5pZClcclxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXV4SW5kZXggPSAwO1xyXG4gICAgICAgICAgICAgICAgcmVzLmRhdGEuZm9yRWFjaChmdW5jdGlvbihlbGUsaW5kZXgsIGFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ldyBEYXRlKGVsZVsnREFUQVNUQVJUJ10pID4gRGF0ZS5ub3coKSAmJiBlbGVbJ21hdGVyaWFsJ10ubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlLm1hdGVyaWFsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGUubWF0ZXJpYWwuZm9yRWFjaChmdW5jdGlvbihlbGUxLGluZGV4MSwgYXJyYXkxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlLm1hdGVyaWFsW2luZGV4MV1bJ3NlbWFwaG9yJ10gPSAnc2VtYXBob3JSZWQnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggKGVsZTFbJ1JlcXVpcmVkUXR5J10gPD0gZWxlMVsnQXZhbGFpYmxlJ10pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZS5tYXRlcmlhbFtpbmRleDFdWydzZW1hcGhvciddID0gJ3NlbWFwaG9yR3JlZW4nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZWxlMVsnUmVxdWlyZWRRdHknXSA+IGVsZTFbJ0F2YWxhaWJsZSddICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZTFbJ1JlcXVpcmVkUXR5J10gPD0gKGVsZTFbJ0F2YWxhaWJsZSddLzIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGUubWF0ZXJpYWxbaW5kZXgxXVsnc2VtYXBob3InXSA9ICdzZW1hcGhvck9yYW5nZSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tYXRlcmlhbFthdXhJbmRleCsrXSA9IGVsZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICRzY29wZS4kZW1pdCgnV29ya2luZ09mZicpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgfSk7IiwiYW5ndWxhci5tb2R1bGUoJ3ZpbG9iaUFwcCcpXHJcbiAgICAuY29udHJvbGxlcignbWVudUNvbnRyb2xsZXInLCBmdW5jdGlvbiAoXHJcbiAgICAgICAgICAgICRzY29wZSxcclxuICAgICAgICAgICAgJG1kU2lkZW5hdixcclxuICAgICAgICAgICAgJHRpbWVvdXQsXHJcbiAgICAgICAgICAgICRyb290U2NvcGUsXHJcbiAgICAgICAgICAgICRzdGF0ZSxcclxuICAgICAgICAgICAgc3NTaWRlTmF2LFxyXG4gICAgICAgICAgICBzc1NpZGVOYXZTaGFyZWRTZXJ2aWNlKSB7XHJcblxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgJHNjb3BlLm1hY2hpbmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgJHNjb3BlLmJyZWFkQ3J1bWJzID0gICRzdGF0ZS5jdXJyZW50LmJyZWFkQ3J1bWJzO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgJHNjb3BlLm9uQ2xpY2tNZW51ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJG1kU2lkZW5hdignbGVmdCcpLnRvZ2dsZSgpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLiRvbignTWFjaGluZScsZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubWFjaGluZSA9IHRydWU7ICBcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgJHNjb3BlLiRvbignTWFjaGluZU91dCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5tYWNoaW5lID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICRzY29wZS5tZW51ID0gc3NTaWRlTmF2O1xyXG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRvbignJHN0YXRlQ2hhbmdlU3VjY2VzcycsIFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24oZXZlbnQsIHRvU3RhdGUsIHRvUGFyYW1zLCBmcm9tU3RhdGUsIGZyb21QYXJhbXMpeyBcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYnJlYWRDcnVtYnMgPSB0b1N0YXRlLmJyZWFkQ3J1bWJzO1xyXG4gICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgIFxyXG4gICAgICAgIH0pOyIsImFuZ3VsYXIubW9kdWxlKCd2aWxvYmlBcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ3N1cGVyTWFjaGluZUNvbnRyb2xsZXInLCBmdW5jdGlvbigkc2NvcGUsIHN1cGVydmlzb3JTcnYsIGRyaXZlclNydiwgJHN0YXRlUGFyYW1zLCRzdGF0ZSkge1xyXG4gICAgICAgICRzY29wZS5tYWNoaW5lID0gJHN0YXRlUGFyYW1zLmlkO1xyXG4gICAgICAgICRzY29wZS5nbyA9IGZ1bmN0aW9uKGxvY2F0ZSkge1xyXG4gICAgICAgICAgICBkcml2ZXJTcnYuc2V0U3RhdGUoJHN0YXRlLmN1cnJlbnQubmFtZSwkc3RhdGVQYXJhbXMuaWQpO1xyXG4gICAgICAgICAgICAkc3RhdGUuZ28oJ2NvbW1vbi5tYWNoaW5lUmVndWxhcicseydpZCc6bG9jYXRlfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAkc2NvcGUuZ29CYWNrID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICRzdGF0ZS5nbygnY29tbW9uLnN1cGVydmlzb3InKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgICRzY29wZS5nb0JpZ1NjcmVlbiA9IGZ1bmN0aW9uKGxvY2F0ZSkge1xyXG4gICAgICAgICAgICBkcml2ZXJTcnYuc2V0U3RhdGUoJHN0YXRlLmN1cnJlbnQubmFtZSwkc3RhdGVQYXJhbXMuaWQpO1xyXG4gICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ01hY2hpbmUnKTtcclxuICAgICAgICAgICAgJHN0YXRlLmdvKCdjb21tb24ubWFjaGluZScseydpZCc6bG9jYXRlfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBzdXBlcnZpc29yU3J2Lm1hY2hpbmVzKCRzdGF0ZVBhcmFtcy5pZClcclxuICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24obWFjaGluZXMpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5tYWNoaW5lcyA9IG1hY2hpbmVzO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH0pOyIsImFuZ3VsYXIubW9kdWxlKCd2aWxvYmlBcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ3N1cGVydmlzb3JDb250cm9sbGVyJywgZnVuY3Rpb24oJHNjb3BlLHN1cGVydmlzb3JTcnYsIGRyaXZlclNydiwkc3RhdGUpIHtcclxuICAgICAgICAkc2NvcGUuZ28gPSBmdW5jdGlvbihsb2NhdGUpIHtcclxuICAgICAgICAgICAgZHJpdmVyU3J2LnNldChsb2NhdGUpO1xyXG4gICAgICAgICAgICBkcml2ZXJTcnYuc2V0U3RhdGUoJHN0YXRlLmN1cnJlbnQubmFtZSk7XHJcblxyXG4gICAgICAgICAgICAkc3RhdGUuZ28oJ2NvbW1vbi5zdXBlcnZpc29yTWFjaGluZScseydpZCc6bG9jYXRlfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAkc2NvcGUuZ29HZW5lcmFsID0gZnVuY3Rpb24obG9jYXRlKSB7XHJcbiAgICAgICAgICAgIGRyaXZlclNydi5zZXQobG9jYXRlKTtcclxuICAgICAgICAgICAgZHJpdmVyU3J2LnNldFN0YXRlKCRzdGF0ZS5jdXJyZW50Lm5hbWUpO1xyXG4gICAgICAgICAgICAkc3RhdGUuZ28oJ2NvbW1vbi5tYWNoaW5lc1JlZ3VsYXInLHsnaWQnOmxvY2F0ZX0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgJHNjb3BlLmdvTWF0ZXJpYWwgPSBmdW5jdGlvbihsb2NhdGUpIHtcclxuICAgICAgICAgICAgZHJpdmVyU3J2LnNldChsb2NhdGUpO1xyXG4gICAgICAgICAgICBkcml2ZXJTcnYuc2V0U3RhdGUoJHN0YXRlLmN1cnJlbnQubmFtZSk7XHJcbiAgICAgICAgICAgICRzdGF0ZS5nbygnY29tbW9uLm1hdGVyaWFsJywgeydpZCc6bG9jYXRlfSk7XHJcbiAgICAgICAgfSBcclxuICAgICAgICBzdXBlcnZpc29yU3J2LmRlcGFydGFtZW50cygpXHJcbiAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRlcHRzKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGVwdHMgPSBkZXB0cztcclxuICAgICAgICAgICAgICAgIGRlcHRzLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCwgaW5kZXgpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdXBlcnZpc29yU3J2Lm1hY2hpbmVzKGVsZW1lbnQuV0NHcm91cClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGVwdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRlcHRzW2luZGV4XVsnbWFjaGluZXMnXSA9IGRlcHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgfSk7IiwiYW5ndWxhci5tb2R1bGUoJ3ZpbG9iaUFwcCcpXHJcbiAgICAuZGlyZWN0aXZlKCdzZkNsb2NrJywgZnVuY3Rpb24gKCRpbnRlcnZhbCwgZGF0ZUZpbHRlcikge1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XHJcbiAgICAgICAgICAgIHZhciBzdG9wVGltZTtcclxuICAgICAgICAgICAgZnVuY3Rpb24gdXBkYXRlVGltZSgpIHtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQudGV4dChkYXRlRmlsdGVyKG5ldyBEYXRlKCksICdkZC9NTS95eXl5IEhIOm1tOnNzJykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBzdG9wVGltZSA9ICRpbnRlcnZhbChmdW5jdGlvbigpIHsgdXBkYXRlVGltZSgpfSwgMTAwMCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBlbGVtZW50Lm9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgJGludGVydmFsLmNhbmNlbChzdG9wVGltZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0pIiwiYW5ndWxhci5tb2R1bGUoJ3ZpbG9iaUFwcCcpXHJcbiAgICAuc2VydmljZSgnZHJpdmVyU3J2JywgZnVuY3Rpb24oJGh0dHApIHtcclxuICAgICAgICB0aGlzLmxhc3RJZCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5sYXN0U3RhdGUgPSBbXVxyXG4gICAgIFxyXG4gICAgICAgIHRoaXMuc2V0ID0gZnVuY3Rpb24obGFzdCkge1xyXG4gICAgICAgICAgICB0aGlzLmxhc3RJZCA9IGxhc3Q7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZ2V0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxhc3RJZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSA9IGZ1bmN0aW9uKGxhc3QscGFyYW0pIHtcclxuICAgICAgICAgICAgdGhpcy5sYXN0U3RhdGUucHVzaCh7J2lkJzpsYXN0LCdwYXJhbSc6cGFyYW19KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5nZXRTdGF0ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sYXN0U3RhdGUucG9wKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfSk7IiwiYW5ndWxhci5tb2R1bGUoJ3ZpbG9iaUFwcCcpXHJcbiAgICAuc2VydmljZSgnbWFjaGluZVN0YXRlU3J2JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5nZXQgPSBmdW5jdGlvbihzdGF0ZSkge1xyXG4gICAgICAgIFxyXG4gICAgICAgICAgICB2YXIgYXV4ID0ge307XHJcbiAgICAgICAgICAgIGlmICghc3RhdGUpIHN0YXRlPScnO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHN0YXRlLnRyaW0oKSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnRG93bic6XHJcbiAgICAgICAgICAgICAgICAgICAgYXV4Lm5hbWUgPSAnUGFyYXQnO1xyXG4gICAgICAgICAgICAgICAgICAgIGF1eC5pY29uID0gJ2ljX3RodW1iX2Rvd25fYmxhY2tfMThweC5zdmcnO1xyXG4gICAgICAgICAgICAgICAgICAgIGF1eC50aGVtZSA9ICdkb3duJ1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnUHVsbCc6XHJcbiAgICAgICAgICAgICAgICAgICAgYXV4Lm5hbWUgPSAnUFVMTCc7XHJcbiAgICAgICAgICAgICAgICAgICAgYXV4Lmljb24gPSAnaWNfZ2V0X2FwcF9ibGFja18xOHB4LnN2Zyc7XHJcbiAgICAgICAgICAgICAgICAgICAgYXV4LnRoZW1lID0gJ3B1bGwnXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdOQ0Rvd24nOlxyXG4gICAgICAgICAgICAgICAgICAgIGF1eC5uYW1lID0gJ3BhcmF0IHNlbnNlIGNhcnJlYyc7XHJcbiAgICAgICAgICAgICAgICAgICAgYXV4Lmljb24gPSAnaWNfc3luY19kaXNhYmxlZF9ibGFja18xOHB4LnN2Zyc7XHJcbiAgICAgICAgICAgICAgICAgICAgYXV4LnRoZW1lID0gJ25jZG93bidcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ0VuZCBvZiBPcGVyYXRpb24nOlxyXG4gICAgICAgICAgICAgICAgICAgIGF1eC5uYW1lID0gJ2ZpbmFsIG9wZXJhY2nDsyc7XHJcbiAgICAgICAgICAgICAgICAgICAgYXV4Lmljb24gPSAnaWNfZG9uZV9ibGFja18xOHB4LnN2Zyc7XHJcbiAgICAgICAgICAgICAgICAgICAgYXV4LnRoZW1lID0gJ2VuZCdcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ1NldHVwJzpcclxuICAgICAgICAgICAgICAgICAgICBhdXgubmFtZSA9ICdtYW50ZW5pbWVudCc7XHJcbiAgICAgICAgICAgICAgICAgICAgYXV4Lmljb24gPSAnaWNfYnVpbGRfYmxhY2tfMThweC5zdmcnO1xyXG4gICAgICAgICAgICAgICAgICAgIGF1eC50aGVtZSA9ICdzZXR1cCdcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ1Byb2Nlc3MnOlxyXG4gICAgICAgICAgICAgICAgICAgIGF1eC5uYW1lID0gJ2VuIHByb2PDqXMnO1xyXG4gICAgICAgICAgICAgICAgICAgIGF1eC5pY29uID0gJ2ljX2xvb3BfYmxhY2tfMThweC5zdmcnO1xyXG4gICAgICAgICAgICAgICAgICAgIGF1eC50aGVtZSA9ICdwcm9jZXNzJ1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBhdXggPSB7J25hbWUnOidkZXNjb25lZ3V0JywnaWNvbic6J2ljX2Vycm9yX2JsYWNrXzE4cHguc3ZnJywgJ3RoZW1lJyA6ICdlcnJvcid9O1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBhdXg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfSk7IiwiYW5ndWxhci5tb2R1bGUoJ3ZpbG9iaUFwcCcpXHJcbiAgICAuc2VydmljZSgnb2ZTcnYnLCBmdW5jdGlvbigkaHR0cCwgJHEpIHtcclxuICAgICAgICB2YXIgdXJsQmFzZSA9ICcuLi8uLi9hcGkvYm9tLyc7XHJcbiAgICAgICAgdmFyIGRlZmVycmVkOyAvLyB0aGlzIHZhcmlhYmxlIHdpbGwgYmUgdGhlIHByb21pc2VcclxuICAgICBcclxuICAgICAgICB0aGlzLm1hdGVyaWFsQXZhbGlhYmxlID0gZnVuY3Rpb24obWFjaGluZSwgb2ZzKSB7XHJcbiAgICAgICAgICAgIHZhciBhdXhDb3VudCA9IDE7XHJcbiAgICAgICAgICAgIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcclxuICAgICAgICAgICAgb2ZzLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCwgaW5kZXgsIGFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAkaHR0cC5nZXQodXJsQmFzZSArIG1hY2hpbmUgKyAnLycgKyBlbGVtZW50Lk9GKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGJvbSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXV4QXZhbGlhYmxlPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJvbS5sZW5ndGggPT0gMCApIGF1eEF2YWxpYWJsZS5wdXNoKHsnaXRlbUlkJzonTm8gblxcJ2hpIGhhJywgJ2F2YWxpYWJsZSc6M30pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBib20uZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKiBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEFjY29yZGluZyB0byBcIlJlcXVpcmVkUXR5XCIgYW5kIFwiQXZhbGFpYmxlXCIgcmVsYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIHNldCB1cCB0aGUgZmxhZzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqICAgICAgICAgIDIuLSBncmVlbiBmbGFnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiAgICAgICAgICAxLi0gb3JhbmdlIGZsYWdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqICAgICAgICAgIDAuLSByZWQgZmxhZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogKi8gIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGF1eEJvbSA9IHsnaXRlbUlkJyA6IGVsZW1lbnRbJ0l0ZW1JZCddLCAnYXZhbGlhYmxlJyA6IDB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnRbJ1JlcXVpcmVkUXR5J10gPD0gZWxlbWVudFsnQXZhbGFpYmxlJ10pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXhCb21bJ2F2YWxpYWJsZSddID0gIDI7ICAvLyBTZW1hZm9yIHZlcmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZWxlbWVudFsnUmVxdWlyZWRRdHknXSA+IGVsZW1lbnRbJ0F2YWxhaWJsZSddICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRbJ1JlcXVpcmVkUXR5J10gPD0gKGVsZW1lbnRbJ0F2YWxhaWJsZSddLzIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV4Qm9tWydhdmFsaWFibGUnXSA9ICAxOyAgLy8gU2VtYWZvciB0YXJvbmphXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXhBdmFsaWFibGUucHVzaChhdXhCb20pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXJyYXlbaW5kZXhdWydhdmFsaWFibGUnXSA9IGF1eEF2YWxpYWJsZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCsrYXV4Q291bnQgPiBhcnJheS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoYXJyYXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfSk7IiwiYW5ndWxhci5tb2R1bGUoJ3ZpbG9iaUFwcCcpXHJcbiAgICAuZmFjdG9yeSgnc3VwZXJ2aXNvclNydicsIGZ1bmN0aW9uKCRodHRwLCAkaW50ZXJ2YWwpIHtcclxuICAgICAgICB2YXIgdXJsQmFzZSA9ICcuLi8uLi9hcGkvc3VwZXJ2aXNvci9kZXB0JztcclxuICAgICAgICB2YXIgZGVwdEFsbCA9ICcuLi8uLi9hcGkvc3VwZXJ2aXNvci9kZXB0YWxsJztcclxuICAgICAgICB2YXIgZGVwdE9uZSA9ICcuLi8uLi9hcGkvc3VwZXJ2aXNvci9kZXB0b25lJztcclxuICAgICBcclxuICAgICAgICB0aGlzLmRlcGFydGFtZW50cyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KHVybEJhc2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm1hY2hpbmVzID0gZnVuY3Rpb24oZGVwdCkge1xyXG4gICAgICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KHVybEJhc2UrJy8nK2RlcHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm1hY2hpbmVzQWxsID0gZnVuY3Rpb24oZGVwdCkge1xyXG4gICAgICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KGRlcHRBbGwgKyAnLycgKyBkZXB0KVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm1hY2hpbmVPbmUgPSBmdW5jdGlvbihtYWNoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5nZXQoZGVwdE9uZSArICcvJyArIG1hY2gpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubWFjaGluZXNBbGxUaW1lcj0gbnVsbDtcclxuXHJcbiAgICAgICAgdGhpcy5raWxsVGltZXJzID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm1hY2hpbmVzQWxsVGltZXIpXHJcbiAgICAgICAgICAgICAgICAkaW50ZXJ2YWwuY2FuY2VsKHRoaXMubWFjaGluZXNBbGxUaW1lcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfSk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
