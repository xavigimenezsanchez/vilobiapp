angular.module("vilobiApp",["ui.router","ngMaterial","sasrio.angular-material-sidenav"]),angular.module("vilobiApp").config(["$mdThemingProvider","ssSideNavSectionsProvider",function(e,t){t.initWithTheme(e),t.initWithSections([{id:"Home",name:"Home",state:"common.home",type:"link"},{id:"Supervisor",name:"Supervisor",state:"common.supervisor",type:"link"}])}]),angular.module("vilobiApp").config(["$mdThemingProvider",function(e){e.theme("dark-grey").backgroundPalette("grey").dark(),e.theme("dark-orange").backgroundPalette("orange").dark(),e.theme("dark-purple").backgroundPalette("deep-purple").dark(),e.theme("dark-blue").backgroundPalette("blue").dark(),e.theme("dark-red").backgroundPalette("red").dark(),e.theme("default").primaryPalette("blue").accentPalette("orange"),e.definePalette("machinePalete",{50:"ffcdd2",100:"ffcdd2",200:"ef9a9a",300:"e57373",400:"ef5350",500:"f44336",600:"e53935",700:"d32f2f",800:"c62828",900:"b71c1c",A100:"000000",A200:"ff5252",A400:"ff1744",A700:"d50000",contrastDefaultColor:"light",contrastDarkColors:["50","100","200","300","400","A100"],contrastLightColors:void 0}),e.theme("machine").primaryPalette("blue").backgroundPalette("machinePalete"),e.definePalette("breadcrumbsPaletteName",{50:"FFFFFF",100:"ffcdd2",200:"ef9a9a",300:"e57373",400:"ef5350",500:"f44336",600:"e53935",700:"d32f2f",800:"c62828",900:"b71c1c",A100:"ff8a80",A200:"ff5252",A400:"ff1744",A700:"d50000",contrastDefaultColor:"light",contrastDarkColors:["50","100","200","300","400","A100"],contrastLightColors:void 0}),e.theme("breadcrumbs").primaryPalette("breadcrumbsPaletteName",{"default":"50"})}]),angular.module("vilobiApp").config(["$stateProvider","$urlRouterProvider","$locationProvider",function(e,t,o){t.otherwise("/"),o.html5Mode(!0),t.otherwise(function(){return"/"}),e.state("common",{"abstract":!0,templateUrl:"templates/_common.html",controller:"menuController"}).state("common.home",{url:"/",templateUrl:"templates/home.html",controller:"homeController",breadCrumbs:"home"}).state("common.machine",{url:"/machine/:id",templateUrl:"/templates/machine.html",controller:"bitScreenController",breadCrumbs:"machine"}).state("common.machineRegular",{url:"/machineRegular/:id",templateUrl:"/templates/machineRegular.html",controller:"machineRegularController",breadCrumbs:"machine"}).state("common.supervisor",{url:"/supervisor",templateUrl:"/templates/supervisor2.html",controller:"supervisorController",breadCrumbs:"supervisor"}).state("common.supervisorMachine",{url:"/supervisor/:id",templateUrl:"/templates/supervisorMachine.html",controller:"superMachineController",breadCrumbs:"detall supervisor"})}]),angular.module("vilobiApp").controller("bitScreenController",["$scope","$http","$location","$state","$interval","$timeout","$mdSidenav",function(e,t,o,r,n,a,i){function c(){t.get("../../api/machine/name/"+l[l.length-1]).success(function(t){t.length>0?e.machineName=t[0].NAME:e.machineName="Error!"}),t.get("../../api/machine/actual/"+l[l.length-1]).success(function(o){e.ofActual=o[0].PrOdId,e.ofOpr=o[0].OprNum,e.ofState=o[0].LastTimeJobType,t.get("../api/of/desc/"+o[0].PrOdId).success(function(t){e.ofDescription=t[0].ItemDesc}),t.get("../api/slit/"+o[0].PrOdId).success(function(r){e.ofQtyPlanned=r[0].OrderQty,t.get("../api/of/completed/"+o[0].PrOdId+"/"+o[0].OprNum+"/"+l[l.length-1]).success(function(t){t.length>0&&(e.ofCompleted=t[0].StkQty,e.ofCompletedPercent=100*t[0].StkQty/r[0].OrderQty)})})})}var l=o.absUrl().split("/");e.$emit("Machine"),e.sfFirst=[],e.goSupervisor=function(){e.$emit("MachineOut"),r.go("common.supervisor")},t.get("../../api/machine/"+l[l.length-1]).success(function(t){for(var o=0;o<(t.length<5?t.length:5);o++)e.sfFirst[o]=t[o]}),c(),n(c,6e4)}]),angular.module("vilobiApp").controller("homeController",["$scope",function(e){}]),angular.module("vilobiApp").controller("machineRegularController",["$scope","$http","$stateParams","$location","$state","$interval","$timeout","$mdSidenav",function(e,t,o,r,n,a,i,c){function l(){t.get("../../api/machine/actual/"+s).success(function(o){e.ofActual=o[0].PrOdId,e.ofOpr=o[0].OprNum,e.ofState=o[0].LastTimeJobType,t.get("../api/of/desc/"+o[0].PrOdId).success(function(t){e.ofDescription=t[0].ItemDesc}),t.get("../api/slit/"+o[0].PrOdId).success(function(r){e.ofQtyPlanned=r[0].OrderQty,t.get("../api/of/completed/"+o[0].PrOdId+"/"+o[0].OprNum+"/"+s).success(function(t){t.length>0&&(e.ofCompleted=t[0].StkQty,e.ofCompletedPercent=100*t[0].StkQty/r[0].OrderQty)})})})}var s=o.id;e.goSupervisor=function(){n.go("common.supervisor")},t.get("../../api/machine/name/"+s).success(function(t){t.length>0?e.machineName=t[0].NAME:e.machineName="Error!"}),l(),a(l,6e4)}]),angular.module("vilobiApp").controller("mainController",["$scope","$rootScope",function(e,t){e.bodyStyle="",e.showMenu=!0,e.breadcrumbs="home",e.$on("Machine",function(){console.log("Change body color"),e.bodyStyle="vilobiMachine",e.showMenu=!1,e.bckgrndTheme="machine"}),e.$on("MachineOut",function(){e.bodyStyle="",e.showMenu=!0,e.bckgrndTheme="default"}),t.$on("$stateChangeSuccess",function(t,o,r,n,a){e.breadcrumbs=o.name})}]),angular.module("vilobiApp").controller("menuController",["$scope","$mdSidenav","$timeout","$rootScope","$state","ssSideNav","ssSideNavSharedService",function(e,t,o,r,n,a,i){e.machine=!1,console.log(n),e.breadCrumbs=n.current.breadCrumbs,e.onClickMenu=function(){t("left").toggle()},e.$on("Machine",function(){e.machine=!0}),e.$on("MachineOut",function(){e.machine=!1}),e.menu=a,r.$on("$stateChangeSuccess",function(t,o,r,n,a){e.breadCrumbs=o.breadCrumbs})}]),angular.module("vilobiApp").controller("superMachineController",["$scope","supervisorSrv","$stateParams","$state",function(e,t,o,r){e.machine=o.id,e.go=function(e){r.go("common.machineRegular",{id:e})},e.goBigScreen=function(t){e.$emit("Machine"),r.go("common.machine",{id:t})},t.machines(o.id).success(function(t){e.machines=t})}]),angular.module("vilobiApp").controller("supervisorController",["$scope","supervisorSrv","$state",function(e,t,o){e.go=function(e){o.go("common.supervisorMachine",{id:e})},t.departaments().success(function(o){e.depts=o,o.forEach(function(o,r){t.machines(o.WCGroup).success(function(t){e.depts[r].machines=t})})})}]),angular.module("vilobiApp").directive("sfClock",["$interval","dateFilter",function(e,t){return function(o,r,n){function a(){r.text(t(new Date,"dd/MM/yyyy HH:mm:ss"))}var i;i=e(function(){a()},1e3),r.on("$destroy",function(){e.cancel(i)})}}]),angular.module("vilobiApp").factory("supervisorSrv",["$http",function(e){var t="../../api/supervisor/dept";return this.departaments=function(){return e.get(t)},this.machines=function(o){return e.get(t+"/"+o)},this}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsIm1lbnUuY2ZnLmpzIiwidGhlbWUuY2ZnLmpzIiwidmlsb2JpLmNmZy5qcyIsImNvbnRyb2xsZXJzL2JpZ1NjcmVlbi5jdHJsLmpzIiwiY29udHJvbGxlcnMvaG9tZS5jdHJsLmpzIiwiY29udHJvbGxlcnMvbWFjaGluZVJlZ3VsYXIuY3RybC5qcyIsImNvbnRyb2xsZXJzL21haW4uY3RybC5qcyIsImNvbnRyb2xsZXJzL21lbnUuY3RybC5qcyIsImNvbnRyb2xsZXJzL3N1cGVyTWFjaGluZS5jdHJsLmpzIiwiY29udHJvbGxlcnMvc3VwZXJ2aXNvci5jdHJsLmpzIiwiZGlyZWN0aXZlcy9zZkNsb2NrLmpzIiwic2VydmljZXMvc3VwZXJ2aXNvci5zcnYuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsImNvbmZpZyIsIiRtZFRoZW1pbmdQcm92aWRlciIsInNzU2lkZU5hdlNlY3Rpb25zUHJvdmlkZXIiLCJpbml0V2l0aFRoZW1lIiwiaW5pdFdpdGhTZWN0aW9ucyIsImlkIiwibmFtZSIsInN0YXRlIiwidHlwZSIsInRoZW1lIiwiYmFja2dyb3VuZFBhbGV0dGUiLCJkYXJrIiwicHJpbWFyeVBhbGV0dGUiLCJhY2NlbnRQYWxldHRlIiwiZGVmaW5lUGFsZXR0ZSIsIjUwIiwiMTAwIiwiMjAwIiwiMzAwIiwiNDAwIiwiNTAwIiwiNjAwIiwiNzAwIiwiODAwIiwiOTAwIiwiQTEwMCIsIkEyMDAiLCJBNDAwIiwiQTcwMCIsImNvbnRyYXN0RGVmYXVsdENvbG9yIiwiY29udHJhc3REYXJrQ29sb3JzIiwiY29udHJhc3RMaWdodENvbG9ycyIsInVuZGVmaW5lZCIsImRlZmF1bHQiLCIkc3RhdGVQcm92aWRlciIsIiR1cmxSb3V0ZXJQcm92aWRlciIsIiRsb2NhdGlvblByb3ZpZGVyIiwib3RoZXJ3aXNlIiwiaHRtbDVNb2RlIiwiYWJzdHJhY3QiLCJ0ZW1wbGF0ZVVybCIsImNvbnRyb2xsZXIiLCJ1cmwiLCJicmVhZENydW1icyIsIiRzY29wZSIsIiRodHRwIiwiJGxvY2F0aW9uIiwiJHN0YXRlIiwiJGludGVydmFsIiwiJHRpbWVvdXQiLCIkbWRTaWRlbmF2IiwibWFjaGluZU5vdyIsImdldCIsImxlbmd0aCIsInN1Y2Nlc3MiLCJtYWNoaW5lTmFtZSIsIm9mQWN0dWFsIiwib2ZPcHIiLCJvZlN0YXRlIiwiZGVzYyIsIm9mRGVzY3JpcHRpb24iLCJxdHkiLCJvZlF0eVBsYW5uZWQiLCJjb21wIiwib2ZDb21wbGV0ZWQiLCJvZkNvbXBsZXRlZFBlcmNlbnQiLCJhYnNVcmwiLCJzcGxpdCIsIiRlbWl0Iiwic2ZGaXJzdCIsImdvU3VwZXJ2aXNvciIsImdvIiwic2YiLCJpIiwiJHN0YXRlUGFyYW1zIiwibWFjaGluZSIsIiRyb290U2NvcGUiLCJib2R5U3R5bGUiLCJzaG93TWVudSIsImJyZWFkY3J1bWJzIiwiJG9uIiwiY29uc29sZSIsImxvZyIsImJja2dybmRUaGVtZSIsImV2ZW50IiwidG9TdGF0ZSIsInRvUGFyYW1zIiwiZnJvbVN0YXRlIiwiZnJvbVBhcmFtcyIsInNzU2lkZU5hdiIsInNzU2lkZU5hdlNoYXJlZFNlcnZpY2UiLCJjdXJyZW50Iiwib25DbGlja01lbnUiLCJ0b2dnbGUiLCJtZW51Iiwic3VwZXJ2aXNvclNydiIsImxvY2F0ZSIsImdvQmlnU2NyZWVuIiwibWFjaGluZXMiLCJkZXBhcnRhbWVudHMiLCJkZXB0cyIsImZvckVhY2giLCJlbGVtZW50IiwiaW5kZXgiLCJXQ0dyb3VwIiwiZGVwdCIsImRpcmVjdGl2ZSIsImRhdGVGaWx0ZXIiLCJzY29wZSIsImF0dHJzIiwidXBkYXRlVGltZSIsInRleHQiLCJEYXRlIiwic3RvcFRpbWUiLCJvbiIsImNhbmNlbCIsImZhY3RvcnkiLCJ1cmxCYXNlIiwidGhpcyJdLCJtYXBwaW5ncyI6IkFBQUFBLFFBQUFDLE9BQUEsYUFBQSxZQUFBLGFBQUEsb0NDQUFELFFBQUFDLE9BQUEsYUFDQUMsUUFBQSxxQkFBQSw0QkFBQSxTQUFBQyxFQUFBQyxHQUNBQSxFQUFBQyxjQUFBRixHQUNBQyxFQUFBRSxtQkFDQUMsR0FBQSxPQUNBQyxLQUFBLE9BQ0FDLE1BQUEsY0FDQUMsS0FBQSxTQUVBSCxHQUFBLGFBQ0FDLEtBQUEsYUFDQUMsTUFBQSxvQkFDQUMsS0FBQSxhQ1pBVixRQUFBQyxPQUFBLGFBQ0FDLFFBQUEscUJBQUEsU0FBQUMsR0FDQUEsRUFBQVEsTUFBQSxhQUFBQyxrQkFBQSxRQUFBQyxPQUNBVixFQUFBUSxNQUFBLGVBQUFDLGtCQUFBLFVBQUFDLE9BQ0FWLEVBQUFRLE1BQUEsZUFBQUMsa0JBQUEsZUFBQUMsT0FDQVYsRUFBQVEsTUFBQSxhQUFBQyxrQkFBQSxRQUFBQyxPQUNBVixFQUFBUSxNQUFBLFlBQUFDLGtCQUFBLE9BQUFDLE9BQ0FWLEVBQUFRLE1BQUEsV0FDQUcsZUFBQSxRQUNBQyxjQUFBLFVBRUFaLEVBQUFhLGNBQUEsaUJBQ0FDLEdBQUEsU0FDQUMsSUFBQSxTQUNBQyxJQUFBLFNBQ0FDLElBQUEsU0FDQUMsSUFBQSxTQUNBQyxJQUFBLFNBQ0FDLElBQUEsU0FDQUMsSUFBQSxTQUNBQyxJQUFBLFNBQ0FDLElBQUEsU0FDQUMsS0FBQSxTQUNBQyxLQUFBLFNBQ0FDLEtBQUEsU0FDQUMsS0FBQSxTQUNBQyxxQkFBQSxRQUVBQyxvQkFBQSxLQUFBLE1BQ0EsTUFBQSxNQUFBLE1BQUEsUUFDQUMsb0JBQUFDLFNBR0EvQixFQUFBUSxNQUFBLFdBQ0FHLGVBQUEsUUFDQUYsa0JBQUEsaUJBR0FULEVBQUFhLGNBQUEsMEJBQ0FDLEdBQUEsU0FDQUMsSUFBQSxTQUNBQyxJQUFBLFNBQ0FDLElBQUEsU0FDQUMsSUFBQSxTQUNBQyxJQUFBLFNBQ0FDLElBQUEsU0FDQUMsSUFBQSxTQUNBQyxJQUFBLFNBQ0FDLElBQUEsU0FDQUMsS0FBQSxTQUNBQyxLQUFBLFNBQ0FDLEtBQUEsU0FDQUMsS0FBQSxTQUNBQyxxQkFBQSxRQUVBQyxvQkFBQSxLQUFBLE1BQ0EsTUFBQSxNQUFBLE1BQUEsUUFDQUMsb0JBQUFDLFNBRUEvQixFQUFBUSxNQUFBLGVBQ0FHLGVBQUEsMEJBQ0FxQixVQUFBLFVDN0RBbkMsUUFBQUMsT0FBQSxhQUNBQyxRQUFBLGlCQUFBLHFCQUFBLG9CQUFBLFNBQUFrQyxFQUFBQyxFQUFBQyxHQUNBRCxFQUFBRSxVQUFBLEtBQ0FELEVBQUFFLFdBQUEsR0FFQUgsRUFBQUUsVUFBQSxXQUNBLE1BQUEsTUFFQUgsRUFDQTNCLE1BQUEsVUFDQWdDLFlBQUEsRUFDQUMsWUFBQSx5QkFDQUMsV0FBQSxtQkFFQWxDLE1BQUEsZUFDQW1DLElBQUEsSUFDQUYsWUFBQSxzQkFDQUMsV0FBQSxpQkFDQUUsWUFBQSxTQUdBcEMsTUFBQSxrQkFDQW1DLElBQUEsZUFDQUYsWUFBQSwwQkFDQUMsV0FBQSxzQkFDQUUsWUFBQSxZQUVBcEMsTUFBQSx5QkFDQW1DLElBQUEsc0JBQ0FGLFlBQUEsaUNBQ0FDLFdBQUEsMkJBQ0FFLFlBQUEsWUFFQXBDLE1BQUEscUJBQ0FtQyxJQUFBLGNBQ0FGLFlBQUEsOEJBQ0FDLFdBQUEsdUJBQ0FFLFlBQUEsZUFFQXBDLE1BQUEsNEJBQ0FtQyxJQUFBLGtCQUNBRixZQUFBLG9DQUNBQyxXQUFBLHlCQUNBRSxZQUFBLHlCQzNDQTdDLFFBQUFDLE9BQUEsYUFDQTBDLFdBQUEsdUJBQUEsU0FBQSxRQUFBLFlBQUEsU0FBQSxZQUFBLFdBQUEsYUFBQSxTQUFBRyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxHQWtCQSxRQUFBQyxLQUNBTixFQUFBTyxJQUFBLDBCQUFBVixFQUFBQSxFQUFBVyxPQUFBLElBQ0FDLFFBQUEsU0FBQWhELEdBQ0FBLEVBQUErQyxPQUFBLEVBQ0FULEVBQUFXLFlBQUFqRCxFQUFBLEdBQUEsS0FFQXNDLEVBQUFXLFlBQUEsV0FHQVYsRUFBQU8sSUFBQSw0QkFBQVYsRUFBQUEsRUFBQVcsT0FBQSxJQUNBQyxRQUFBLFNBQUFoRCxHQUNBc0MsRUFBQVksU0FBQWxELEVBQUEsR0FBQSxPQUNBc0MsRUFBQWEsTUFBQW5ELEVBQUEsR0FBQSxPQUNBc0MsRUFBQWMsUUFBQXBELEVBQUEsR0FBQSxnQkFDQXVDLEVBQUFPLElBQUEsa0JBQUE5QyxFQUFBLEdBQUEsUUFDQWdELFFBQUEsU0FBQUssR0FDQWYsRUFBQWdCLGNBQUFELEVBQUEsR0FBQSxXQUVBZCxFQUFBTyxJQUFBLGVBQUE5QyxFQUFBLEdBQUEsUUFDQWdELFFBQUEsU0FBQU8sR0FDQWpCLEVBQUFrQixhQUFBRCxFQUFBLEdBQUEsU0FDQWhCLEVBQUFPLElBQUEsdUJBQUE5QyxFQUFBLEdBQUEsT0FBQSxJQUFBQSxFQUFBLEdBQUEsT0FBQSxJQUFBb0MsRUFBQUEsRUFBQVcsT0FBQSxJQUNBQyxRQUFBLFNBQUFTLEdBQ0FBLEVBQUFWLE9BQUEsSUFDQVQsRUFBQW9CLFlBQUFELEVBQUEsR0FBQSxPQUNBbkIsRUFBQXFCLG1CQUFBLElBQUFGLEVBQUEsR0FBQSxPQUFBRixFQUFBLEdBQUEsZ0JBMUNBLEdBQUFuQixHQUFBSSxFQUFBb0IsU0FBQUMsTUFBQSxJQUNBdkIsR0FBQXdCLE1BQUEsV0FDQXhCLEVBQUF5QixXQUVBekIsRUFBQTBCLGFBQUEsV0FDQTFCLEVBQUF3QixNQUFBLGNBQ0FyQixFQUFBd0IsR0FBQSxzQkFHQTFCLEVBQUFPLElBQUEscUJBQUFWLEVBQUFBLEVBQUFXLE9BQUEsSUFDQUMsUUFBQSxTQUFBa0IsR0FDQSxJQUFBLEdBQUFDLEdBQUEsRUFBQUEsR0FBQUQsRUFBQW5CLE9BQUEsRUFBQW1CLEVBQUFuQixPQUFBLEdBQUFvQixJQUNBN0IsRUFBQXlCLFFBQUFJLEdBQUFELEVBQUFDLEtBc0NBdEIsSUFFQUgsRUFBQUcsRUFBQSxRQ3REQXJELFFBQUFDLE9BQUEsYUFDQTBDLFdBQUEsa0JBQUEsU0FBQSxTQUFBRyxPQ0RBOUMsUUFBQUMsT0FBQSxhQUNBMEMsV0FBQSw0QkFBQSxTQUFBLFFBQUEsZUFBQSxZQUFBLFNBQUEsWUFBQSxXQUFBLGFBQUEsU0FBQUcsRUFBQUMsRUFBQTZCLEVBQUE1QixFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxHQWdCQSxRQUFBQyxLQUVBTixFQUFBTyxJQUFBLDRCQUFBdUIsR0FDQXJCLFFBQUEsU0FBQWhELEdBQ0FzQyxFQUFBWSxTQUFBbEQsRUFBQSxHQUFBLE9BQ0FzQyxFQUFBYSxNQUFBbkQsRUFBQSxHQUFBLE9BQ0FzQyxFQUFBYyxRQUFBcEQsRUFBQSxHQUFBLGdCQUNBdUMsRUFBQU8sSUFBQSxrQkFBQTlDLEVBQUEsR0FBQSxRQUNBZ0QsUUFBQSxTQUFBSyxHQUNBZixFQUFBZ0IsY0FBQUQsRUFBQSxHQUFBLFdBRUFkLEVBQUFPLElBQUEsZUFBQTlDLEVBQUEsR0FBQSxRQUNBZ0QsUUFBQSxTQUFBTyxHQUNBakIsRUFBQWtCLGFBQUFELEVBQUEsR0FBQSxTQUNBaEIsRUFBQU8sSUFBQSx1QkFBQTlDLEVBQUEsR0FBQSxPQUFBLElBQUFBLEVBQUEsR0FBQSxPQUFBLElBQUFxRSxHQUNBckIsUUFBQSxTQUFBUyxHQUNBQSxFQUFBVixPQUFBLElBQ0FULEVBQUFvQixZQUFBRCxFQUFBLEdBQUEsT0FDQW5CLEVBQUFxQixtQkFBQSxJQUFBRixFQUFBLEdBQUEsT0FBQUYsRUFBQSxHQUFBLGdCQWpDQSxHQUFBYyxHQUFBRCxFQUFBckUsRUFFQXVDLEdBQUEwQixhQUFBLFdBQ0F2QixFQUFBd0IsR0FBQSxzQkFHQTFCLEVBQUFPLElBQUEsMEJBQUF1QixHQUNBckIsUUFBQSxTQUFBaEQsR0FDQUEsRUFBQStDLE9BQUEsRUFDQVQsRUFBQVcsWUFBQWpELEVBQUEsR0FBQSxLQUVBc0MsRUFBQVcsWUFBQSxXQThCQUosSUFFQUgsRUFBQUcsRUFBQSxRQzdDQXJELFFBQUFDLE9BQUEsYUFDQTBDLFdBQUEsa0JBQUEsU0FBQSxhQUFBLFNBQUFHLEVBQUFnQyxHQUNBaEMsRUFBQWlDLFVBQUEsR0FDQWpDLEVBQUFrQyxVQUFBLEVBQ0FsQyxFQUFBbUMsWUFBQSxPQUVBbkMsRUFBQW9DLElBQUEsVUFBQSxXQUNBQyxRQUFBQyxJQUFBLHFCQUNBdEMsRUFBQWlDLFVBQUEsZ0JBQ0FqQyxFQUFBa0MsVUFBQSxFQUNBbEMsRUFBQXVDLGFBQUEsWUFHQXZDLEVBQUFvQyxJQUFBLGFBQUEsV0FDQXBDLEVBQUFpQyxVQUFBLEdBQ0FqQyxFQUFBa0MsVUFBQSxFQUNBbEMsRUFBQXVDLGFBQUEsWUFHQVAsRUFBQUksSUFBQSxzQkFBQSxTQUFBSSxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxHQUNBNUMsRUFBQW1DLFlBQUFNLEVBQUEvRSxVQ3BCQVIsUUFBQUMsT0FBQSxhQUNBMEMsV0FBQSxrQkFBQSxTQUFBLGFBQUEsV0FBQSxhQUFBLFNBQUEsWUFBQSx5QkFBQSxTQUNBRyxFQUNBTSxFQUNBRCxFQUNBMkIsRUFDQTdCLEVBQ0EwQyxFQUNBQyxHQUdBOUMsRUFBQStCLFNBQUEsRUFDQU0sUUFBQUMsSUFBQW5DLEdBQ0FILEVBQUFELFlBQUFJLEVBQUE0QyxRQUFBaEQsWUFFQUMsRUFBQWdELFlBQUEsV0FDQTFDLEVBQUEsUUFBQTJDLFVBR0FqRCxFQUFBb0MsSUFBQSxVQUFBLFdBQ0FwQyxFQUFBK0IsU0FBQSxJQUVBL0IsRUFBQW9DLElBQUEsYUFBQSxXQUNBcEMsRUFBQStCLFNBQUEsSUFFQS9CLEVBQUFrRCxLQUFBTCxFQUNBYixFQUFBSSxJQUFBLHNCQUNBLFNBQUFJLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEdBQ0E1QyxFQUFBRCxZQUFBMEMsRUFBQTFDLGlCQzVCQTdDLFFBQUFDLE9BQUEsYUFDQTBDLFdBQUEsMEJBQUEsU0FBQSxnQkFBQSxlQUFBLFNBQUEsU0FBQUcsRUFBQW1ELEVBQUFyQixFQUFBM0IsR0FDQUgsRUFBQStCLFFBQUFELEVBQUFyRSxHQUNBdUMsRUFBQTJCLEdBQUEsU0FBQXlCLEdBRUFqRCxFQUFBd0IsR0FBQSx5QkFBQWxFLEdBQUEyRixLQUVBcEQsRUFBQXFELFlBQUEsU0FBQUQsR0FDQXBELEVBQUF3QixNQUFBLFdBQ0FyQixFQUFBd0IsR0FBQSxrQkFBQWxFLEdBQUEyRixLQUVBRCxFQUFBRyxTQUFBeEIsRUFBQXJFLElBQ0FpRCxRQUFBLFNBQUE0QyxHQUNBdEQsRUFBQXNELFNBQUFBLE9DYkFwRyxRQUFBQyxPQUFBLGFBQ0EwQyxXQUFBLHdCQUFBLFNBQUEsZ0JBQUEsU0FBQSxTQUFBRyxFQUFBbUQsRUFBQWhELEdBQ0FILEVBQUEyQixHQUFBLFNBQUF5QixHQUNBakQsRUFBQXdCLEdBQUEsNEJBQUFsRSxHQUFBMkYsS0FFQUQsRUFBQUksZUFDQTdDLFFBQUEsU0FBQThDLEdBQ0F4RCxFQUFBd0QsTUFBQUEsRUFDQUEsRUFBQUMsUUFBQSxTQUFBQyxFQUFBQyxHQUNBUixFQUFBRyxTQUFBSSxFQUFBRSxTQUNBbEQsUUFBQSxTQUFBbUQsR0FDQTdELEVBQUF3RCxNQUFBRyxHQUFBLFNBQUFFLFdDWEEzRyxRQUFBQyxPQUFBLGFBQ0EyRyxVQUFBLFdBQUEsWUFBQSxhQUFBLFNBQUExRCxFQUFBMkQsR0FDQSxNQUFBLFVBQUFDLEVBQUFOLEVBQUFPLEdBRUEsUUFBQUMsS0FDQVIsRUFBQVMsS0FBQUosRUFBQSxHQUFBSyxNQUFBLHdCQUZBLEdBQUFDLEVBS0FBLEdBQUFqRSxFQUFBLFdBQUE4RCxLQUFBLEtBRUFSLEVBQUFZLEdBQUEsV0FBQSxXQUNBbEUsRUFBQW1FLE9BQUFGLFNDWEFuSCxRQUFBQyxPQUFBLGFBQ0FxSCxRQUFBLGlCQUFBLFFBQUEsU0FBQXZFLEdBQ0EsR0FBQXdFLEdBQUEsMkJBUUEsT0FOQUMsTUFBQW5CLGFBQUEsV0FDQSxNQUFBdEQsR0FBQU8sSUFBQWlFLElBRUFDLEtBQUFwQixTQUFBLFNBQUFPLEdBQ0EsTUFBQTVELEdBQUFPLElBQUFpRSxFQUFBLElBQUFaLElBRUFhIiwiZmlsZSI6InZpbG9iaUFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbImFuZ3VsYXIubW9kdWxlKCd2aWxvYmlBcHAnLFsndWkucm91dGVyJywnbmdNYXRlcmlhbCcsJ3Nhc3Jpby5hbmd1bGFyLW1hdGVyaWFsLXNpZGVuYXYnXSk7IiwiYW5ndWxhci5tb2R1bGUoJ3ZpbG9iaUFwcCcpXHJcbiAgICAuY29uZmlnKGZ1bmN0aW9uKCRtZFRoZW1pbmdQcm92aWRlcixzc1NpZGVOYXZTZWN0aW9uc1Byb3ZpZGVyKSB7XHJcbiAgICAgICAgc3NTaWRlTmF2U2VjdGlvbnNQcm92aWRlci5pbml0V2l0aFRoZW1lKCRtZFRoZW1pbmdQcm92aWRlcik7XHJcbiAgICAgICAgICAgIHNzU2lkZU5hdlNlY3Rpb25zUHJvdmlkZXIuaW5pdFdpdGhTZWN0aW9ucyhbe1xyXG4gICAgICAgICAgICAgICAgICAgIGlkOiAgICAgICAgICdIb21lJyxcclxuICAgICAgICAgICAgICAgICAgICBuYW1lOiAgICAgICAnSG9tZScsXHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGU6ICAgICAgJ2NvbW1vbi5ob21lJyxcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAgICAgICAnbGluaydcclxuICAgICAgICAgICAgICAgIH0se1xyXG4gICAgICAgICAgICAgICAgICAgIGlkOiAgICAgICAgICdTdXBlcnZpc29yJyxcclxuICAgICAgICAgICAgICAgICAgICBuYW1lOiAgICAgICAnU3VwZXJ2aXNvcicsXHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGU6ICAgICAgJ2NvbW1vbi5zdXBlcnZpc29yJyxcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAgICAgICAnbGluaydcclxuICAgICAgICAgICAgICAgIH1dKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICIsImFuZ3VsYXIubW9kdWxlKCd2aWxvYmlBcHAnKVxyXG4gICAgLmNvbmZpZyhmdW5jdGlvbigkbWRUaGVtaW5nUHJvdmlkZXIpIHtcclxuICAgICAgICAkbWRUaGVtaW5nUHJvdmlkZXIudGhlbWUoJ2RhcmstZ3JleScpLmJhY2tncm91bmRQYWxldHRlKCdncmV5JykuZGFyaygpO1xyXG4gICAgICAgICRtZFRoZW1pbmdQcm92aWRlci50aGVtZSgnZGFyay1vcmFuZ2UnKS5iYWNrZ3JvdW5kUGFsZXR0ZSgnb3JhbmdlJykuZGFyaygpO1xyXG4gICAgICAgICRtZFRoZW1pbmdQcm92aWRlci50aGVtZSgnZGFyay1wdXJwbGUnKS5iYWNrZ3JvdW5kUGFsZXR0ZSgnZGVlcC1wdXJwbGUnKS5kYXJrKCk7XHJcbiAgICAgICAgJG1kVGhlbWluZ1Byb3ZpZGVyLnRoZW1lKCdkYXJrLWJsdWUnKS5iYWNrZ3JvdW5kUGFsZXR0ZSgnYmx1ZScpLmRhcmsoKTtcclxuICAgICAgICAkbWRUaGVtaW5nUHJvdmlkZXIudGhlbWUoJ2RhcmstcmVkJykuYmFja2dyb3VuZFBhbGV0dGUoJ3JlZCcpLmRhcmsoKTtcclxuICAgICAgICAkbWRUaGVtaW5nUHJvdmlkZXIudGhlbWUoJ2RlZmF1bHQnKVxyXG4gICAgICAgICAgICAucHJpbWFyeVBhbGV0dGUoJ2JsdWUnKVxyXG4gICAgICAgICAgICAuYWNjZW50UGFsZXR0ZSgnb3JhbmdlJyk7XHJcblxyXG4gICAgICAgICRtZFRoZW1pbmdQcm92aWRlci5kZWZpbmVQYWxldHRlKCdtYWNoaW5lUGFsZXRlJywge1xyXG4gICAgICAgICAgICAnNTAnOiAnZmZjZGQyJyxcclxuICAgICAgICAgICAgICAgICcxMDAnOiAnZmZjZGQyJyxcclxuICAgICAgICAgICAgICAgICcyMDAnOiAnZWY5YTlhJyxcclxuICAgICAgICAgICAgICAgICczMDAnOiAnZTU3MzczJyxcclxuICAgICAgICAgICAgICAgICc0MDAnOiAnZWY1MzUwJyxcclxuICAgICAgICAgICAgICAgICc1MDAnOiAnZjQ0MzM2JyxcclxuICAgICAgICAgICAgICAgICc2MDAnOiAnZTUzOTM1JyxcclxuICAgICAgICAgICAgICAgICc3MDAnOiAnZDMyZjJmJyxcclxuICAgICAgICAgICAgICAgICc4MDAnOiAnYzYyODI4JyxcclxuICAgICAgICAgICAgICAgICc5MDAnOiAnYjcxYzFjJyxcclxuICAgICAgICAgICAgICAgICdBMTAwJzogJzAwMDAwMCcsICAvLyBCYWNrZ3JvdW5kIENvbG9yXHJcbiAgICAgICAgICAgICAgICAnQTIwMCc6ICdmZjUyNTInLFxyXG4gICAgICAgICAgICAgICAgJ0E0MDAnOiAnZmYxNzQ0JyxcclxuICAgICAgICAgICAgICAgICdBNzAwJzogJ2Q1MDAwMCcsXHJcbiAgICAgICAgICAgICAgICAnY29udHJhc3REZWZhdWx0Q29sb3InOiAnbGlnaHQnLCAgICAvLyB3aGV0aGVyLCBieSBkZWZhdWx0LCB0ZXh0IChjb250cmFzdClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9uIHRoaXMgcGFsZXR0ZSBzaG91bGQgYmUgZGFyayBvciBsaWdodFxyXG4gICAgICAgICAgICAgICAgJ2NvbnRyYXN0RGFya0NvbG9ycyc6IFsnNTAnLCAnMTAwJywgLy9odWVzIHdoaWNoIGNvbnRyYXN0IHNob3VsZCBiZSAnZGFyaycgYnkgZGVmYXVsdFxyXG4gICAgICAgICAgICAgICAgJzIwMCcsICczMDAnLCAnNDAwJywgJ0ExMDAnXSxcclxuICAgICAgICAgICAgICAgICdjb250cmFzdExpZ2h0Q29sb3JzJzogdW5kZWZpbmVkIFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkbWRUaGVtaW5nUHJvdmlkZXIudGhlbWUoJ21hY2hpbmUnKVxyXG4gICAgICAgICAgICAucHJpbWFyeVBhbGV0dGUoJ2JsdWUnKVxyXG4gICAgICAgICAgICAuYmFja2dyb3VuZFBhbGV0dGUoJ21hY2hpbmVQYWxldGUnKTtcclxuXHJcblxyXG4gICAgICAgICAgICRtZFRoZW1pbmdQcm92aWRlci5kZWZpbmVQYWxldHRlKCdicmVhZGNydW1ic1BhbGV0dGVOYW1lJywge1xyXG4gICAgICAgICAgICAgICAgJzUwJzogJ0ZGRkZGRicsXHJcbiAgICAgICAgICAgICAgICAnMTAwJzogJ2ZmY2RkMicsXHJcbiAgICAgICAgICAgICAgICAnMjAwJzogJ2VmOWE5YScsXHJcbiAgICAgICAgICAgICAgICAnMzAwJzogJ2U1NzM3MycsXHJcbiAgICAgICAgICAgICAgICAnNDAwJzogJ2VmNTM1MCcsXHJcbiAgICAgICAgICAgICAgICAnNTAwJzogJ2Y0NDMzNicsXHJcbiAgICAgICAgICAgICAgICAnNjAwJzogJ2U1MzkzNScsXHJcbiAgICAgICAgICAgICAgICAnNzAwJzogJ2QzMmYyZicsXHJcbiAgICAgICAgICAgICAgICAnODAwJzogJ2M2MjgyOCcsXHJcbiAgICAgICAgICAgICAgICAnOTAwJzogJ2I3MWMxYycsXHJcbiAgICAgICAgICAgICAgICAnQTEwMCc6ICdmZjhhODAnLFxyXG4gICAgICAgICAgICAgICAgJ0EyMDAnOiAnZmY1MjUyJyxcclxuICAgICAgICAgICAgICAgICdBNDAwJzogJ2ZmMTc0NCcsXHJcbiAgICAgICAgICAgICAgICAnQTcwMCc6ICdkNTAwMDAnLFxyXG4gICAgICAgICAgICAgICAgJ2NvbnRyYXN0RGVmYXVsdENvbG9yJzogJ2xpZ2h0JywgICAgLy8gd2hldGhlciwgYnkgZGVmYXVsdCwgdGV4dCAoY29udHJhc3QpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBvbiB0aGlzIHBhbGV0dGUgc2hvdWxkIGJlIGRhcmsgb3IgbGlnaHRcclxuICAgICAgICAgICAgICAgICdjb250cmFzdERhcmtDb2xvcnMnOiBbJzUwJywgJzEwMCcsIC8vaHVlcyB3aGljaCBjb250cmFzdCBzaG91bGQgYmUgJ2RhcmsnIGJ5IGRlZmF1bHRcclxuICAgICAgICAgICAgICAgICcyMDAnLCAnMzAwJywgJzQwMCcsICdBMTAwJ10sXHJcbiAgICAgICAgICAgICAgICAnY29udHJhc3RMaWdodENvbG9ycyc6IHVuZGVmaW5lZCAgICAvLyBjb3VsZCBhbHNvIHNwZWNpZnkgdGhpcyBpZiBkZWZhdWx0IHdhcyAnZGFyaydcclxuICAgICAgICAgICAgfSk7ICAgXHJcbiAgICAgICAgICRtZFRoZW1pbmdQcm92aWRlci50aGVtZSgnYnJlYWRjcnVtYnMnKVxyXG4gICAgICAgICAgICAucHJpbWFyeVBhbGV0dGUoJ2JyZWFkY3J1bWJzUGFsZXR0ZU5hbWUnLCB7XHJcbiAgICAgICAgICAgICAgICAnZGVmYXVsdCc6ICc1MCdcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIiwiYW5ndWxhci5tb2R1bGUoJ3ZpbG9iaUFwcCcpXHJcbiAgICAuY29uZmlnKGZ1bmN0aW9uKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIsJGxvY2F0aW9uUHJvdmlkZXIpIHtcclxuICAgICAgICAkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKFwiL1wiKTtcclxuICAgICAgICAkbG9jYXRpb25Qcm92aWRlci5odG1sNU1vZGUodHJ1ZSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnLyc7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJHN0YXRlUHJvdmlkZXJcclxuICAgICAgICAgICAgLnN0YXRlKCdjb21tb24nICx7XHJcbiAgICAgICAgICAgICAgICBhYnN0cmFjdDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGVzL19jb21tb24uaHRtbCcsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnbWVudUNvbnRyb2xsZXInXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zdGF0ZSgnY29tbW9uLmhvbWUnLCB7XHJcbiAgICAgICAgICAgICAgICB1cmwgICAgICAgICAgICAgOiAgICcvJyxcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsICAgIDogICAndGVtcGxhdGVzL2hvbWUuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnaG9tZUNvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICAgICAgYnJlYWRDcnVtYnMgOiAnaG9tZSdcclxuXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zdGF0ZSgnY29tbW9uLm1hY2hpbmUnICwge1xyXG4gICAgICAgICAgICAgICAgdXJsICAgICAgICAgICAgIDogICAnL21hY2hpbmUvOmlkJyxcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsICAgIDogICAnL3RlbXBsYXRlcy9tYWNoaW5lLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlciAgICAgIDogICAnYml0U2NyZWVuQ29udHJvbGxlcicsXHJcbiAgICAgICAgICAgICAgICBicmVhZENydW1icyA6ICdtYWNoaW5lJ1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc3RhdGUoJ2NvbW1vbi5tYWNoaW5lUmVndWxhcicgLCB7XHJcbiAgICAgICAgICAgICAgICB1cmwgICAgICAgICAgICAgOiAgICcvbWFjaGluZVJlZ3VsYXIvOmlkJyxcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsICAgIDogICAnL3RlbXBsYXRlcy9tYWNoaW5lUmVndWxhci5odG1sJyxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIgICAgICA6ICAgJ21hY2hpbmVSZWd1bGFyQ29udHJvbGxlcicsXHJcbiAgICAgICAgICAgICAgICBicmVhZENydW1icyA6ICdtYWNoaW5lJ1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc3RhdGUoJ2NvbW1vbi5zdXBlcnZpc29yJyAsIHtcclxuICAgICAgICAgICAgICAgIHVybCAgICAgICAgICAgICA6ICAgJy9zdXBlcnZpc29yJyxcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsICAgIDogICAnL3RlbXBsYXRlcy9zdXBlcnZpc29yMi5odG1sJyxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIgICAgICA6ICAgJ3N1cGVydmlzb3JDb250cm9sbGVyJyxcclxuICAgICAgICAgICAgICAgIGJyZWFkQ3J1bWJzIDogJ3N1cGVydmlzb3InXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zdGF0ZSgnY29tbW9uLnN1cGVydmlzb3JNYWNoaW5lJyAsIHtcclxuICAgICAgICAgICAgICAgIHVybCAgICAgICAgICAgICA6ICAgJy9zdXBlcnZpc29yLzppZCcsXHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybCAgICA6ICAgJy90ZW1wbGF0ZXMvc3VwZXJ2aXNvck1hY2hpbmUuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyICAgICAgOiAgICdzdXBlck1hY2hpbmVDb250cm9sbGVyJyxcclxuICAgICAgICAgICAgICAgIGJyZWFkQ3J1bWJzIDogJ2RldGFsbCBzdXBlcnZpc29yJ1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICBcclxuICAgIH0pIiwiYW5ndWxhci5tb2R1bGUoJ3ZpbG9iaUFwcCcpXHJcbiAgICAuY29udHJvbGxlcignYml0U2NyZWVuQ29udHJvbGxlcicsIGZ1bmN0aW9uKCRzY29wZSwgJGh0dHAsICRsb2NhdGlvbiwgJHN0YXRlLCAkaW50ZXJ2YWwsICR0aW1lb3V0LCAkbWRTaWRlbmF2KSB7XHJcbiAgICAgICAgdmFyIHVybCA9ICRsb2NhdGlvbi5hYnNVcmwoKS5zcGxpdCgnLycpO1xyXG4gICAgICAgICRzY29wZS4kZW1pdCgnTWFjaGluZScpO1xyXG4gICAgICAgICRzY29wZS5zZkZpcnN0ID1bXTtcclxuICAgICAgICBcclxuICAgICAgICAkc2NvcGUuZ29TdXBlcnZpc29yID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICRzY29wZS4kZW1pdCgnTWFjaGluZU91dCcpO1xyXG4gICAgICAgICAgICAkc3RhdGUuZ28oJ2NvbW1vbi5zdXBlcnZpc29yJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgICRodHRwLmdldCgnLi4vLi4vYXBpL21hY2hpbmUvJyt1cmxbdXJsLmxlbmd0aCAtMV0pXHJcbiAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKHNmKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpPTA7IGk8KCBzZi5sZW5ndGggPDUgPyBzZi5sZW5ndGg6NSk7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zZkZpcnN0W2ldID0gc2ZbaV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgXHJcbiAgICAgICAgXHJcbiAgICAgICAgZnVuY3Rpb24gbWFjaGluZU5vdygpIHtcclxuICAgICAgICAgICAgJGh0dHAuZ2V0KCcuLi8uLi9hcGkvbWFjaGluZS9uYW1lLycgKyB1cmxbdXJsLmxlbmd0aCAtMSBdKVxyXG4gICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24obmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChuYW1lLmxlbmd0aCA+MCApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1hY2hpbmVOYW1lID0gbmFtZVswXVsnTkFNRSddOyAgIFxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tYWNoaW5lTmFtZSA9IFwiRXJyb3IhXCJcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgJGh0dHAuZ2V0KCcuLi8uLi9hcGkvbWFjaGluZS9hY3R1YWwvJyt1cmxbdXJsLmxlbmd0aCAtMV0pXHJcbiAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9mQWN0dWFsID0gbmFtZVswXVsnUHJPZElkJ107XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9mT3ByID0gbmFtZVswXVsnT3ByTnVtJ107XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9mU3RhdGUgPSBuYW1lWzBdWydMYXN0VGltZUpvYlR5cGUnXTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5nZXQoJy4uL2FwaS9vZi9kZXNjLycgKyBuYW1lWzBdWydQck9kSWQnXSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGVzYykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9mRGVzY3JpcHRpb24gPSBkZXNjWzBdWydJdGVtRGVzYyddO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5nZXQoJy4uL2FwaS9zbGl0LycrbmFtZVswXVsnUHJPZElkJ10pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKHF0eSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9mUXR5UGxhbm5lZCA9IHF0eVswXVsnT3JkZXJRdHknXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmdldCgnLi4vYXBpL29mL2NvbXBsZXRlZC8nK25hbWVbMF1bJ1ByT2RJZCddKycvJytuYW1lWzBdWydPcHJOdW0nXSsnLycgICt1cmxbdXJsLmxlbmd0aCAtMV0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oY29tcCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29tcC5sZW5ndGg+MCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9mQ29tcGxldGVkID0gY29tcFswXVsnU3RrUXR5J107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2ZDb21wbGV0ZWRQZXJjZW50ID0gY29tcFswXVsnU3RrUXR5J10qMTAwL3F0eVswXVsnT3JkZXJRdHknXTsgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBtYWNoaW5lTm93KCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgJGludGVydmFsKG1hY2hpbmVOb3csNjAwMDApO1xyXG4gICAgICAgIFxyXG4gICAgfSk7IiwiYW5ndWxhci5tb2R1bGUoJ3ZpbG9iaUFwcCcpXHJcbiAgICAuY29udHJvbGxlcignaG9tZUNvbnRyb2xsZXInICwgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAgICB9KTsiLCJhbmd1bGFyLm1vZHVsZSgndmlsb2JpQXBwJylcclxuICAgIC5jb250cm9sbGVyKCdtYWNoaW5lUmVndWxhckNvbnRyb2xsZXInLCBmdW5jdGlvbigkc2NvcGUsICRodHRwLCAkc3RhdGVQYXJhbXMsICRsb2NhdGlvbiwgJHN0YXRlLCAkaW50ZXJ2YWwsICR0aW1lb3V0LCAkbWRTaWRlbmF2KSB7XHJcbiAgICAgICAgdmFyIG1hY2hpbmUgPSAkc3RhdGVQYXJhbXMuaWQ7XHJcbiAgICAgICAgXHJcbiAgICAgICAgJHNjb3BlLmdvU3VwZXJ2aXNvciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAkc3RhdGUuZ28oJ2NvbW1vbi5zdXBlcnZpc29yJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgICRodHRwLmdldCgnLi4vLi4vYXBpL21hY2hpbmUvbmFtZS8nICsgbWFjaGluZSlcclxuICAgICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKG5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobmFtZS5sZW5ndGggPjAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tYWNoaW5lTmFtZSA9IG5hbWVbMF1bJ05BTUUnXTsgICBcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWFjaGluZU5hbWUgPSBcIkVycm9yIVwiXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgZnVuY3Rpb24gbWFjaGluZU5vdygpIHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICRodHRwLmdldCgnLi4vLi4vYXBpL21hY2hpbmUvYWN0dWFsLycrbWFjaGluZSlcclxuICAgICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKG5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2ZBY3R1YWwgPSBuYW1lWzBdWydQck9kSWQnXTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2ZPcHIgPSBuYW1lWzBdWydPcHJOdW0nXTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2ZTdGF0ZSA9IG5hbWVbMF1bJ0xhc3RUaW1lSm9iVHlwZSddO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmdldCgnLi4vYXBpL29mL2Rlc2MvJyArIG5hbWVbMF1bJ1ByT2RJZCddKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkZXNjKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2ZEZXNjcmlwdGlvbiA9IGRlc2NbMF1bJ0l0ZW1EZXNjJ107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmdldCgnLi4vYXBpL3NsaXQvJytuYW1lWzBdWydQck9kSWQnXSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24ocXR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2ZRdHlQbGFubmVkID0gcXR5WzBdWydPcmRlclF0eSddO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZ2V0KCcuLi9hcGkvb2YvY29tcGxldGVkLycrbmFtZVswXVsnUHJPZElkJ10rJy8nK25hbWVbMF1bJ09wck51bSddKycvJyAgKyBtYWNoaW5lKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGNvbXApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXAubGVuZ3RoPjApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vZkNvbXBsZXRlZCA9IGNvbXBbMF1bJ1N0a1F0eSddO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9mQ29tcGxldGVkUGVyY2VudCA9IGNvbXBbMF1bJ1N0a1F0eSddKjEwMC9xdHlbMF1bJ09yZGVyUXR5J107ICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgbWFjaGluZU5vdygpO1xyXG4gICAgICAgIFxyXG4gICAgICAgICRpbnRlcnZhbChtYWNoaW5lTm93LDYwMDAwKTtcclxuICAgICAgICBcclxuICAgIH0pOyIsImFuZ3VsYXIubW9kdWxlKCd2aWxvYmlBcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ21haW5Db250cm9sbGVyJyAsIGZ1bmN0aW9uKCRzY29wZSwkcm9vdFNjb3BlKSB7XHJcbiAgICAgICAgJHNjb3BlLmJvZHlTdHlsZSA9ICcnO1xyXG4gICAgICAgICRzY29wZS5zaG93TWVudSA9IHRydWU7XHJcbiAgICAgICAgJHNjb3BlLmJyZWFkY3J1bWJzID0gJ2hvbWUnO1xyXG4gICAgICAgIFxyXG4gICAgICAgICRzY29wZS4kb24oJ01hY2hpbmUnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0NoYW5nZSBib2R5IGNvbG9yJyk7XHJcbiAgICAgICAgICAgICRzY29wZS5ib2R5U3R5bGUgPSAndmlsb2JpTWFjaGluZSc7XHJcbiAgICAgICAgICAgICRzY29wZS5zaG93TWVudSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAkc2NvcGUuYmNrZ3JuZFRoZW1lID0gJ21hY2hpbmUnO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICB9KTtcclxuICAgICAgICAkc2NvcGUuJG9uKCdNYWNoaW5lT3V0JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5ib2R5U3R5bGUgPSAnJzsgXHJcbiAgICAgICAgICAgICRzY29wZS5zaG93TWVudSA9IHRydWU7XHJcbiAgICAgICAgICAgICRzY29wZS5iY2tncm5kVGhlbWUgPSAnZGVmYXVsdCdcclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICAkcm9vdFNjb3BlLiRvbignJHN0YXRlQ2hhbmdlU3VjY2VzcycsIGZ1bmN0aW9uKGV2ZW50LCB0b1N0YXRlLCB0b1BhcmFtcywgZnJvbVN0YXRlLCBmcm9tUGFyYW1zKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5icmVhZGNydW1icyA9IHRvU3RhdGUubmFtZTtcclxuICAgICAgICAgfSlcclxuICAgICAgICBcclxuICAgIH0pOyIsImFuZ3VsYXIubW9kdWxlKCd2aWxvYmlBcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ21lbnVDb250cm9sbGVyJywgZnVuY3Rpb24gKFxyXG4gICAgICAgICAgICAkc2NvcGUsXHJcbiAgICAgICAgICAgICRtZFNpZGVuYXYsXHJcbiAgICAgICAgICAgICR0aW1lb3V0LFxyXG4gICAgICAgICAgICAkcm9vdFNjb3BlLFxyXG4gICAgICAgICAgICAkc3RhdGUsXHJcbiAgICAgICAgICAgIHNzU2lkZU5hdixcclxuICAgICAgICAgICAgc3NTaWRlTmF2U2hhcmVkU2VydmljZSkge1xyXG5cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICRzY29wZS5tYWNoaW5lID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCRzdGF0ZSk7XHJcbiAgICAgICAgICAgICRzY29wZS5icmVhZENydW1icyA9ICAkc3RhdGUuY3VycmVudC5icmVhZENydW1icztcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICRzY29wZS5vbkNsaWNrTWVudSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRtZFNpZGVuYXYoJ2xlZnQnKS50b2dnbGUoKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS4kb24oJ01hY2hpbmUnLGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm1hY2hpbmUgPSB0cnVlOyAgXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICRzY29wZS4kb24oJ01hY2hpbmVPdXQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubWFjaGluZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAkc2NvcGUubWVudSA9IHNzU2lkZU5hdjtcclxuICAgICAgICAgICAgJHJvb3RTY29wZS4kb24oJyRzdGF0ZUNoYW5nZVN1Y2Nlc3MnLCBcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uKGV2ZW50LCB0b1N0YXRlLCB0b1BhcmFtcywgZnJvbVN0YXRlLCBmcm9tUGFyYW1zKXsgXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmJyZWFkQ3J1bWJzID0gdG9TdGF0ZS5icmVhZENydW1icztcclxuICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICBcclxuICAgICAgICB9KTsiLCJhbmd1bGFyLm1vZHVsZSgndmlsb2JpQXBwJylcclxuICAgIC5jb250cm9sbGVyKCdzdXBlck1hY2hpbmVDb250cm9sbGVyJywgZnVuY3Rpb24oJHNjb3BlLCBzdXBlcnZpc29yU3J2LCAkc3RhdGVQYXJhbXMsJHN0YXRlKSB7XHJcbiAgICAgICAgJHNjb3BlLm1hY2hpbmUgPSAkc3RhdGVQYXJhbXMuaWQ7XHJcbiAgICAgICAgJHNjb3BlLmdvID0gZnVuY3Rpb24obG9jYXRlKSB7XHJcbiAgICAgICAgICAgIC8qJHNjb3BlLiRlbWl0KCdNYWNoaW5lJyk7Ki9cclxuICAgICAgICAgICAgJHN0YXRlLmdvKCdjb21tb24ubWFjaGluZVJlZ3VsYXInLHsnaWQnOmxvY2F0ZX0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgICRzY29wZS5nb0JpZ1NjcmVlbiA9IGZ1bmN0aW9uKGxvY2F0ZSkge1xyXG4gICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ01hY2hpbmUnKTtcclxuICAgICAgICAgICAgJHN0YXRlLmdvKCdjb21tb24ubWFjaGluZScseydpZCc6bG9jYXRlfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBzdXBlcnZpc29yU3J2Lm1hY2hpbmVzKCRzdGF0ZVBhcmFtcy5pZClcclxuICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24obWFjaGluZXMpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5tYWNoaW5lcyA9IG1hY2hpbmVzO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH0pOyIsImFuZ3VsYXIubW9kdWxlKCd2aWxvYmlBcHAnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ3N1cGVydmlzb3JDb250cm9sbGVyJywgZnVuY3Rpb24oJHNjb3BlLHN1cGVydmlzb3JTcnYsICRzdGF0ZSkge1xyXG4gICAgICAgICRzY29wZS5nbyA9IGZ1bmN0aW9uKGxvY2F0ZSkge1xyXG4gICAgICAgICAgICAkc3RhdGUuZ28oJ2NvbW1vbi5zdXBlcnZpc29yTWFjaGluZScseydpZCc6bG9jYXRlfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBzdXBlcnZpc29yU3J2LmRlcGFydGFtZW50cygpXHJcbiAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRlcHRzKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGVwdHMgPSBkZXB0cztcclxuICAgICAgICAgICAgICAgIGRlcHRzLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCwgaW5kZXgpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdXBlcnZpc29yU3J2Lm1hY2hpbmVzKGVsZW1lbnQuV0NHcm91cClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGVwdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRlcHRzW2luZGV4XVsnbWFjaGluZXMnXSA9IGRlcHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgfSk7IiwiYW5ndWxhci5tb2R1bGUoJ3ZpbG9iaUFwcCcpXHJcbiAgICAuZGlyZWN0aXZlKCdzZkNsb2NrJywgZnVuY3Rpb24gKCRpbnRlcnZhbCwgZGF0ZUZpbHRlcikge1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XHJcbiAgICAgICAgICAgIHZhciBzdG9wVGltZTtcclxuICAgICAgICAgICAgZnVuY3Rpb24gdXBkYXRlVGltZSgpIHtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQudGV4dChkYXRlRmlsdGVyKG5ldyBEYXRlKCksICdkZC9NTS95eXl5IEhIOm1tOnNzJykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBzdG9wVGltZSA9ICRpbnRlcnZhbChmdW5jdGlvbigpIHsgdXBkYXRlVGltZSgpfSwgMTAwMCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBlbGVtZW50Lm9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgJGludGVydmFsLmNhbmNlbChzdG9wVGltZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0pIiwiYW5ndWxhci5tb2R1bGUoJ3ZpbG9iaUFwcCcpXHJcbiAgICAuZmFjdG9yeSgnc3VwZXJ2aXNvclNydicsIGZ1bmN0aW9uKCRodHRwKSB7XHJcbiAgICAgICAgdmFyIHVybEJhc2UgPSAnLi4vLi4vYXBpL3N1cGVydmlzb3IvZGVwdCc7XHJcbiAgICAgXHJcbiAgICAgICAgdGhpcy5kZXBhcnRhbWVudHMgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuICRodHRwLmdldCh1cmxCYXNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5tYWNoaW5lcyA9IGZ1bmN0aW9uKGRlcHQpIHtcclxuICAgICAgICAgICAgcmV0dXJuICRodHRwLmdldCh1cmxCYXNlKycvJytkZXB0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9KTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
